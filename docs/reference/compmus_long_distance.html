<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Pairwise distances in long format — compmus_long_distance • compmus</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Pairwise distances in long format — compmus_long_distance" />
<meta property="og:description" content="We use a number of distance measures in Computational Musicology.
compmus_long_distance brings them together into one place, along with
common alternative names. In order to support plotting, the distances are
returned in long format rather than matrix format. It is designed for
convenience, not speed." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">compmus</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9007</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/compmus-w08.html">Week 8 · Chroma Features</a>
    </li>
    <li>
      <a href="../articles/compmus-w09.html">Week 9 · Structure Analysis · Self-Similarity Matrices</a>
    </li>
    <li>
      <a href="../articles/compmus-w10.html">Week 10 · Key and Chord Estimation</a>
    </li>
    <li>
      <a href="../articles/compmus-w11.html">Week 11 · Classification</a>
    </li>
    <li>
      <a href="../articles/compmus-w12.html">Week 12 · Similarity and Clustering</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Pairwise distances in long format</h1>
    
    <div class="hidden name"><code>compmus_long_distance.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>We use a number of distance measures in Computational Musicology.
<code>compmus_long_distance</code> brings them together into one place, along with
common alternative names. In order to support plotting, the distances are
returned in long format rather than matrix format. It is designed for
convenience, not speed.</p>
    </div>

    <pre class="usage"><span class='fu'>compmus_long_distance</span><span class='op'>(</span><span class='va'>xdat</span>, <span class='va'>ydat</span>, <span class='va'>feature</span>, method <span class='op'>=</span> <span class='st'>"euclidean"</span><span class='op'>)</span>

<span class='fu'>compmus_self_similarity</span><span class='op'>(</span><span class='va'>dat</span>, <span class='va'>feature</span>, method <span class='op'>=</span> <span class='st'>"euclidean"</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>xdat, ydat, dat</th>
      <td><p>Data frames with <code>start</code> and <code>duration</code>
columns.</p></td>
    </tr>
    <tr>
      <th>feature</th>
      <td><p>An (unquoted) column name over which to compute distances.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>A character string indicating which distance metric to use (see
Details). Default is Euclidean distance.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A tibble with columns <code>xstart</code>, <code>xduration</code>, <code>ystart</code>,
  <code>yduration</code>, and <code>d</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The following methods are supported.</p><dl>
<dt><code>manhattan</code>,<code>citybolock</code>,<code>taxicab</code>,<code>L1</code>,<code>totvar</code></dt><dd><p>Manhattan
distance.</p></dd> <dt><code>euclidean</code>,<code>L2</code></dt><dd><p>Euclidean distance.</p></dd>
<dt><code>chebyshev</code>,<code>maximum</code></dt><dd><p>Chebyshev distance.</p></dd>
<dt><code>pearson</code>,<code>correlation</code></dt><dd><p>Pearson's pseudo-distance.</p></dd>
<dt><code>cosine</code></dt><dd><p>Cosine pseudo-distance.</p></dd> <dt><code>angular</code></dt><dd><p>Angular
distance.</p></dd> <dt><code>aitchison</code></dt><dd><p>Aitchison distance.</p></dd> 
</dl>

    <h2 class="hasAnchor" id="functions"><a class="anchor" href="#functions"></a>Functions</h2>

    
<ul>
<li><p><code>compmus_self_similarity</code>: Self-similarity matrices in long format</p></li>
</ul>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>
<span class='va'>tallis</span> <span class='op'>&lt;-</span>
  <span class='fu'><a href='get_tidy_audio_analysis.html'>get_tidy_audio_analysis</a></span><span class='op'>(</span><span class='st'>"2J3Mmybwue0jyQ0UVMYurH"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>segments</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>unnest</span><span class='op'>(</span><span class='va'>segments</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>pitches <span class='op'>=</span> <span class='fu'>map</span><span class='op'>(</span><span class='va'>pitches</span>, <span class='va'>compmus_normalise</span>, <span class='st'>"manhattan"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>chapelle</span> <span class='op'>&lt;-</span>
  <span class='fu'><a href='get_tidy_audio_analysis.html'>get_tidy_audio_analysis</a></span><span class='op'>(</span><span class='st'>"4ccw2IcnFt1Jv9LqQCOYDi"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>segments</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>unnest</span><span class='op'>(</span><span class='va'>segments</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>pitches <span class='op'>=</span> <span class='fu'>map</span><span class='op'>(</span><span class='va'>pitches</span>, <span class='va'>compmus_normalise</span>, <span class='st'>"manhattan"</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'>compmus_long_distance</span><span class='op'>(</span><span class='va'>tallis</span>, <span class='va'>chapelle</span>, <span class='va'>pitches</span>, method <span class='op'>=</span> <span class='st'>"euclidean"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 1,168,495 x 5</span><span>
#&gt;    xstart xduration ystart yduration      d
#&gt;     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span>      0      2.09   0       2.84   0.073</span><span style='text-decoration: underline;'>4</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span>      0      2.09   2.84    0.220  0.380 
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span>      0      2.09   3.06    0.157  0.519 
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span>      0      2.09   3.22    0.157  0.558 
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span>      0      2.09   3.37    0.319  0.479 
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span>      0      2.09   3.69    0.262  0.368 
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span>      0      2.09   3.95    0.186  0.542 
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span>      0      2.09   4.14    0.267  0.679 
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span>      0      2.09   4.41    0.099</span><span style='text-decoration: underline;'>5</span><span> 0.614 
#&gt; </span><span style='color: #BCBCBC;'>10</span><span>      0      2.09   4.51    0.209  0.620 
#&gt; </span><span style='color: #949494;'># … with 1,168,485 more rows</span><span></div><div class='input'>
<span class='fu'>compmus_self_similarity</span><span class='op'>(</span><span class='va'>tallis</span>, <span class='va'>pitches</span>, method <span class='op'>=</span> <span class='st'>"aitchison"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 1,357,225 x 5</span><span>
#&gt;    xstart xduration ystart yduration     d
#&gt;     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span>      0      2.09   0       2.09    0   
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span>      0      2.09   2.09    0.144   5.34
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span>      0      2.09   2.24    0.086</span><span style='text-decoration: underline;'>8</span><span>  4.74
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span>      0      2.09   2.32    0.129   5.84
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span>      0      2.09   2.45    0.202   7.16
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span>      0      2.09   2.65    0.087</span><span style='text-decoration: underline;'>5</span><span>  7.44
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span>      0      2.09   2.74    0.592   5.04
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span>      0      2.09   3.33    0.110   6.40
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span>      0      2.09   3.44    0.290   5.51
#&gt; </span><span style='color: #BCBCBC;'>10</span><span>      0      2.09   3.73    0.255   5.96
#&gt; </span><span style='color: #949494;'># … with 1,357,215 more rows</span><span></div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by John Ashley Burgoyne.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


