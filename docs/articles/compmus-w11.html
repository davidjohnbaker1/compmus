<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Week 11 · Classification • compmus</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Week 11 · Classification">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">compmus</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9006</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/compmus-w08.html">Week 8 · Chroma Features</a>
    </li>
    <li>
      <a href="../articles/compmus-w09.html">Week 9 · Structure Analysis · Self-Similarity Matrices</a>
    </li>
    <li>
      <a href="../articles/compmus-w10.html">Week 10 · Key and Chord Estimation</a>
    </li>
    <li>
      <a href="../articles/compmus-w11.html">Week 11 · Classification</a>
    </li>
    <li>
      <a href="../articles/compmus-w12.html">Week 12 · Similarity and Clustering</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="compmus-w11_files/header-attrs-2.1/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Week 11 · Classification</h1>
                        <h4 class="author">John Ashley Burgoyne</h4>
            
            <h4 class="date">13 March 2019</h4>
      
      
      <div class="hidden name"><code>compmus-w11.Rmd</code></div>

    </div>

    
    
<div id="set-up" class="section level2">
<h2 class="hasAnchor">
<a href="#set-up" class="anchor"></a>Set-up</h2>
<p>Be sure to update your installation of compmus before running this vignette.</p>
<p>We will be using the developing <code>tidymodels</code> framework for integrating with the different machine-learning libraries in a consistent manner.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tidyverse)</span></code></pre></div>
<pre><code>## ── Attaching packages ────────────────────────────────────────────────────────────── tidyverse 1.3.0 ──</code></pre>
<pre><code>## ✓ ggplot2 3.2.1     ✓ purrr   0.3.3
## ✓ tibble  2.1.3     ✓ dplyr   0.8.4
## ✓ tidyr   1.0.2     ✓ stringr 1.4.0
## ✓ readr   1.3.1     ✓ forcats 0.5.0</code></pre>
<pre><code>## ── Conflicts ───────────────────────────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tidymodels)</span></code></pre></div>
<pre><code>## ── Attaching packages ───────────────────────────────────────────────────────────── tidymodels 0.1.0 ──</code></pre>
<pre><code>## ✓ broom     0.5.4     ✓ rsample   0.0.5
## ✓ dials     0.0.4     ✓ tune      0.0.1
## ✓ infer     0.5.1     ✓ workflows 0.1.0
## ✓ parsnip   0.0.5     ✓ yardstick 0.0.5
## ✓ recipes   0.1.9</code></pre>
<pre><code>## ── Conflicts ──────────────────────────────────────────────────────────────── tidymodels_conflicts() ──
## x scales::discard()   masks purrr::discard()
## x dplyr::filter()     masks stats::filter()
## x recipes::fixed()    masks stringr::fixed()
## x dplyr::lag()        masks stats::lag()
## x dials::margin()     masks ggplot2::margin()
## x yardstick::spec()   masks readr::spec()
## x recipes::step()     masks stats::step()
## x recipes::yj_trans() masks scales::yj_trans()</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(spotifyr)</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(compmus)</span></code></pre></div>
<p>In order for the code below to run, it is also necessary to set up Spotify login credentials for <code>spotifyr</code>.</p>
</div>
<div id="novelty-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#novelty-functions" class="anchor"></a>Novelty Functions</h2>
<p>For novelty functions, we want to work directly with the segments, and not summarise them at higher levels like Spotify’s own estimates of bar or beat.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>pata_pata &lt;-<span class="st"> </span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="st">    </span><span class="kw"><a href="../reference/get_tidy_audio_analysis.html">get_tidy_audio_analysis</a></span>(<span class="st">'3uy90vHHATPjtdilshDQDt'</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="st">    </span><span class="kw">select</span>(segments) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">unnest</span>(segments)</span></code></pre></div>
<p>We can compute an energy-based novelty function based on Spotify’s loudness estimates. The tempo of this piece is about 126 BPM: how well does this technique work?</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>pata_pata <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">loudness_max_time =</span> start <span class="op">+</span><span class="st"> </span>loudness_max_time) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="st">    </span><span class="kw">arrange</span>(loudness_max_time) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">delta_loudness =</span> loudness_max <span class="op">-</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/lag.html">lag</a></span>(loudness_max)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> loudness_max_time, <span class="dt">y =</span> <span class="kw"><a href="https://rdrr.io/r/base/Extremes.html">pmax</a></span>(<span class="dv">0</span>, delta_loudness))) <span class="op">+</span></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="st">    </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="st">    </span><span class="kw"><a href="https://rdrr.io/r/graphics/plot.window.html">xlim</a></span>(<span class="dv">0</span>, <span class="dv">30</span>) <span class="op">+</span></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="st">    </span><span class="kw">theme_minimal</span>() <span class="op">+</span></span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">'Time (s)'</span>, <span class="dt">y =</span> <span class="st">'Novelty'</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 576 rows containing missing values (geom_path).</code></pre>
<p><img src="compmus-w11_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p>We can use similar approaches for chromagrams and cepstrograms. In the case of chromagrams, Aitchison’s clr transformation gives more sensible differences between time points. Even with these helpful transformations, however, self-similarity matrices tend to be more helpful visualisations of chroma and timbre from the Spotify API.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>pata_pata <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">pitches =</span> <span class="kw">map</span>(pitches, compmus_normalise, <span class="st">'clr'</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="st">    </span><span class="kw">arrange</span>(start) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">pitches =</span> <span class="kw">map2</span>(pitches, <span class="kw"><a href="https://rdrr.io/r/stats/lag.html">lag</a></span>(pitches), <span class="st">`</span><span class="dt">-</span><span class="st">`</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="st">    </span>compmus_gather_chroma <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb13-6"><a href="#cb13-6"></a><span class="st">    </span><span class="kw">ggplot</span>(</span>
<span id="cb13-7"><a href="#cb13-7"></a>        <span class="kw">aes</span>(</span>
<span id="cb13-8"><a href="#cb13-8"></a>            <span class="dt">x =</span> start <span class="op">+</span><span class="st"> </span>duration <span class="op">/</span><span class="st"> </span><span class="dv">2</span>, </span>
<span id="cb13-9"><a href="#cb13-9"></a>            <span class="dt">width =</span> duration, </span>
<span id="cb13-10"><a href="#cb13-10"></a>            <span class="dt">y =</span> pitch_class, </span>
<span id="cb13-11"><a href="#cb13-11"></a>            <span class="dt">fill =</span> <span class="kw"><a href="https://rdrr.io/r/base/Extremes.html">pmax</a></span>(<span class="dv">0</span>, value))) <span class="op">+</span><span class="st"> </span></span>
<span id="cb13-12"><a href="#cb13-12"></a><span class="st">    </span><span class="kw">geom_tile</span>() <span class="op">+</span></span>
<span id="cb13-13"><a href="#cb13-13"></a><span class="st">    </span><span class="kw">scale_fill_viridis_c</span>(<span class="dt">option =</span> <span class="st">'E'</span>, <span class="dt">guide =</span> <span class="st">'none'</span>) <span class="op">+</span></span>
<span id="cb13-14"><a href="#cb13-14"></a><span class="st">    </span><span class="kw"><a href="https://rdrr.io/r/graphics/plot.window.html">xlim</a></span>(<span class="dv">0</span>, <span class="dv">30</span>) <span class="op">+</span></span>
<span id="cb13-15"><a href="#cb13-15"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">'Time (s)'</span>, <span class="dt">y =</span> <span class="ot">NULL</span>, <span class="dt">fill =</span> <span class="st">'Magnitude'</span>) <span class="op">+</span></span>
<span id="cb13-16"><a href="#cb13-16"></a><span class="st">    </span><span class="kw">theme_classic</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 6900 rows containing missing values (geom_tile).</code></pre>
<p><img src="compmus-w11_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>pata_pata <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="st">    </span><span class="kw">arrange</span>(start) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">timbre =</span> <span class="kw">map2</span>(timbre, <span class="kw"><a href="https://rdrr.io/r/stats/lag.html">lag</a></span>(timbre), <span class="st">`</span><span class="dt">-</span><span class="st">`</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="st">    </span>compmus_gather_timbre <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="st">    </span><span class="kw">ggplot</span>(</span>
<span id="cb15-6"><a href="#cb15-6"></a>        <span class="kw">aes</span>(</span>
<span id="cb15-7"><a href="#cb15-7"></a>            <span class="dt">x =</span> start <span class="op">+</span><span class="st"> </span>duration <span class="op">/</span><span class="st"> </span><span class="dv">2</span>, </span>
<span id="cb15-8"><a href="#cb15-8"></a>            <span class="dt">width =</span> duration, </span>
<span id="cb15-9"><a href="#cb15-9"></a>            <span class="dt">y =</span> basis, </span>
<span id="cb15-10"><a href="#cb15-10"></a>            <span class="dt">fill =</span> <span class="kw"><a href="https://rdrr.io/r/base/Extremes.html">pmax</a></span>(<span class="dv">0</span>, value))) <span class="op">+</span><span class="st"> </span></span>
<span id="cb15-11"><a href="#cb15-11"></a><span class="st">    </span><span class="kw">geom_tile</span>() <span class="op">+</span></span>
<span id="cb15-12"><a href="#cb15-12"></a><span class="st">    </span><span class="kw">scale_fill_viridis_c</span>(<span class="dt">option =</span> <span class="st">'E'</span>, <span class="dt">guide =</span> <span class="st">'none'</span>) <span class="op">+</span></span>
<span id="cb15-13"><a href="#cb15-13"></a><span class="st">    </span><span class="kw"><a href="https://rdrr.io/r/graphics/plot.window.html">xlim</a></span>(<span class="dv">0</span>, <span class="dv">30</span>) <span class="op">+</span></span>
<span id="cb15-14"><a href="#cb15-14"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">'Time (s)'</span>, <span class="dt">y =</span> <span class="ot">NULL</span>, <span class="dt">fill =</span> <span class="st">'Magnitude'</span>) <span class="op">+</span></span>
<span id="cb15-15"><a href="#cb15-15"></a><span class="st">    </span><span class="kw">theme_classic</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 6900 rows containing missing values (geom_tile).</code></pre>
<p><img src="compmus-w11_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<p>Find a Spotify track that has a regular tempo but lacks percussion (e.g., much Western classical music), and compute the above three representations. How do they differ from what you see for ‘Pata Pata’?</p>
</div>
<div id="tempograms" class="section level2">
<h2 class="hasAnchor">
<a href="#tempograms" class="anchor"></a>Tempograms</h2>
<p>Spotify does not make the novelty function underlying their own tempo analysis available to the public, but we can still use onsets of every segment to generate Fourier tempograms. The <code><a href="../reference/tempogram.html">tempogram()</a></code> function from <code>compmus</code> generates this automatically from an audio analysis, ready to plot with <code>geom_raster</code> (a faster version of <code>geom_tile</code> for when every segment has the same length). Here is an example of ‘Samba do outro lugar’, a track from the Brazilian indie band Graveola that features several tempo and metre alternations.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>graveola &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_tidy_audio_analysis.html">get_tidy_audio_analysis</a></span>(<span class="st">'6PJasPKAzNLSOzxeAH33j2'</span>)</span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>graveola <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="st">    </span><span class="kw"><a href="../reference/tempogram.html">tempogram</a></span>(<span class="dt">window_size =</span> <span class="dv">8</span>, <span class="dt">hop_size =</span> <span class="dv">1</span>, <span class="dt">cyclic =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> time, <span class="dt">y =</span> bpm, <span class="dt">fill =</span> power)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="st">    </span><span class="kw">geom_raster</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="st">    </span><span class="kw">scale_fill_viridis_c</span>(<span class="dt">guide =</span> <span class="st">'none'</span>) <span class="op">+</span></span>
<span id="cb18-6"><a href="#cb18-6"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">'Time (s)'</span>, <span class="dt">y =</span> <span class="st">'Tempo (BPM)'</span>) <span class="op">+</span></span>
<span id="cb18-7"><a href="#cb18-7"></a><span class="st">    </span><span class="kw">theme_classic</span>()</span></code></pre></div>
<p><img src="compmus-w11_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<p>The textbook notes that Fourier-based tempograms tend to pick up strongly on tempo harmonics. Wrapping into a cyclic tempogram can be more informative.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>graveola <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="st">    </span><span class="kw"><a href="../reference/tempogram.html">tempogram</a></span>(<span class="dt">window_size =</span> <span class="dv">8</span>, <span class="dt">hop_size =</span> <span class="dv">1</span>, <span class="dt">cyclic =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> time, <span class="dt">y =</span> bpm, <span class="dt">fill =</span> power)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb19-4"><a href="#cb19-4"></a><span class="st">    </span><span class="kw">geom_raster</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb19-5"><a href="#cb19-5"></a><span class="st">    </span><span class="kw">scale_fill_viridis_c</span>(<span class="dt">guide =</span> <span class="st">'none'</span>) <span class="op">+</span></span>
<span id="cb19-6"><a href="#cb19-6"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">'Time (s)'</span>, <span class="dt">y =</span> <span class="st">'Tempo (BPM)'</span>) <span class="op">+</span></span>
<span id="cb19-7"><a href="#cb19-7"></a><span class="st">    </span><span class="kw">theme_classic</span>()</span></code></pre></div>
<p><img src="compmus-w11_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
</div>
<div id="classification" class="section level2">
<h2 class="hasAnchor">
<a href="#classification" class="anchor"></a>Classification</h2>
<p>In order to demonstrate some of the principles of classification, we will try to identify some of the features that Spotify uses to designate playlists as ‘workout’ playlists. For a full analysis, we would need to delve deeper, but let’s start with a comparison of three playlists: Indie Pop, Indie Party, and Indie Workout. For speed, this example will work with only the first 20 songs from each playlist, but you should feel free to use more if your computer can handle it.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>pop &lt;-<span class="st"> </span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="st">    </span><span class="kw"><a href="https://rdrr.io/pkg/spotifyr/man/get_playlist_audio_features.html">get_playlist_audio_features</a></span>(<span class="st">'spotify'</span>, <span class="st">'37i9dQZF1DWWEcRhUVtL8n'</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="st">    </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">20</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb20-4"><a href="#cb20-4"></a><span class="st">    </span>add_audio_analysis</span>
<span id="cb20-5"><a href="#cb20-5"></a>party &lt;-<span class="st"> </span></span>
<span id="cb20-6"><a href="#cb20-6"></a><span class="st">    </span><span class="kw"><a href="https://rdrr.io/pkg/spotifyr/man/get_playlist_audio_features.html">get_playlist_audio_features</a></span>(<span class="st">'spotify'</span>, <span class="st">'37i9dQZF1DWTujiC7wfofZ'</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb20-7"><a href="#cb20-7"></a><span class="st">    </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">20</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb20-8"><a href="#cb20-8"></a><span class="st">    </span>add_audio_analysis</span>
<span id="cb20-9"><a href="#cb20-9"></a>workout &lt;-<span class="st"> </span></span>
<span id="cb20-10"><a href="#cb20-10"></a><span class="st">    </span><span class="kw"><a href="https://rdrr.io/pkg/spotifyr/man/get_playlist_audio_features.html">get_playlist_audio_features</a></span>(<span class="st">'spotify'</span>, <span class="st">'37i9dQZF1DXaRL7xbcDl7X'</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb20-11"><a href="#cb20-11"></a><span class="st">    </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">20</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb20-12"><a href="#cb20-12"></a><span class="st">    </span>add_audio_analysis</span></code></pre></div>
<p>As you think about this lab session – and your portfolio – think about the four kinds of validity that Sturm and Wiggins discussed in our reading for this week. Do these projects have:</p>
<ul>
<li>Statistical validity [somewhat beyond the scope of this course]?</li>
<li>Content validity?</li>
<li>Internal validity?</li>
<li>External validity?</li>
</ul>
<p>We bind the three playlists together using the trick from Week 7, transpose the chroma vectors to a common tonic using the <code>compmus_c_transpose</code> function, and then summarise the vectors like we did when generating chromagrams and cepstrograms. Again, Aitchison’s clr transformation can help with chroma.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>indie &lt;-<span class="st"> </span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="st">    </span>pop <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">playlist =</span> <span class="st">"Indie Pop"</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="st">    </span><span class="kw">bind_rows</span>(</span>
<span id="cb21-4"><a href="#cb21-4"></a>        party <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">playlist =</span> <span class="st">"Indie Party"</span>),</span>
<span id="cb21-5"><a href="#cb21-5"></a>        workout <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">playlist =</span> <span class="st">"Indie Workout"</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb21-6"><a href="#cb21-6"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">playlist =</span> <span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(playlist)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb21-7"><a href="#cb21-7"></a><span class="st">    </span><span class="kw">mutate</span>(</span>
<span id="cb21-8"><a href="#cb21-8"></a>        <span class="dt">segments =</span> </span>
<span id="cb21-9"><a href="#cb21-9"></a>            <span class="kw">map2</span>(segments, key, compmus_c_transpose)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb21-10"><a href="#cb21-10"></a><span class="st">    </span><span class="kw">mutate</span>(</span>
<span id="cb21-11"><a href="#cb21-11"></a>        <span class="dt">pitches =</span> </span>
<span id="cb21-12"><a href="#cb21-12"></a>            <span class="kw">map</span>(segments, </span>
<span id="cb21-13"><a href="#cb21-13"></a>                compmus_summarise, pitches, </span>
<span id="cb21-14"><a href="#cb21-14"></a>                <span class="dt">method =</span> <span class="st">'mean'</span>, <span class="dt">norm =</span> <span class="st">'manhattan'</span>),</span>
<span id="cb21-15"><a href="#cb21-15"></a>        <span class="dt">timbre =</span></span>
<span id="cb21-16"><a href="#cb21-16"></a>            <span class="kw">map</span>(</span>
<span id="cb21-17"><a href="#cb21-17"></a>                segments,</span>
<span id="cb21-18"><a href="#cb21-18"></a>                compmus_summarise, timbre,</span>
<span id="cb21-19"><a href="#cb21-19"></a>                <span class="dt">method =</span> <span class="st">'mean'</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb21-20"><a href="#cb21-20"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">pitches =</span> <span class="kw">map</span>(pitches, compmus_normalise, <span class="st">'clr'</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb21-21"><a href="#cb21-21"></a><span class="st">    </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(pitches, timbre), map, bind_rows) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb21-22"><a href="#cb21-22"></a><span class="st">    </span><span class="kw">unnest</span>(<span class="dt">cols =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(pitches, timbre))</span></code></pre></div>
<div id="pre-processing" class="section level3">
<h3 class="hasAnchor">
<a href="#pre-processing" class="anchor"></a>Pre-processing</h3>
<p>In the <code>tidyverse</code> approach, we can preprocess data with a <code>recipe</code> specifying what we are predicting and what variables we think might be useful for that prediction. Then we use <code>step</code> functions to do any data clean (usually centering and scaling, but <code>step_range</code> is a viable alternative that squeezes everything to be between 0 and 1). Finally we <code>prep</code> and <code>juice</code> the data.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>indie_class &lt;-<span class="st"> </span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="st">    </span><span class="kw">recipe</span>(playlist <span class="op">~</span></span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="st">               </span>danceability <span class="op">+</span></span>
<span id="cb22-4"><a href="#cb22-4"></a><span class="st">               </span>energy <span class="op">+</span></span>
<span id="cb22-5"><a href="#cb22-5"></a><span class="st">               </span>loudness <span class="op">+</span></span>
<span id="cb22-6"><a href="#cb22-6"></a><span class="st">               </span>speechiness <span class="op">+</span></span>
<span id="cb22-7"><a href="#cb22-7"></a><span class="st">               </span>acousticness <span class="op">+</span></span>
<span id="cb22-8"><a href="#cb22-8"></a><span class="st">               </span>instrumentalness <span class="op">+</span></span>
<span id="cb22-9"><a href="#cb22-9"></a><span class="st">               </span>liveness <span class="op">+</span></span>
<span id="cb22-10"><a href="#cb22-10"></a><span class="st">               </span>valence <span class="op">+</span></span>
<span id="cb22-11"><a href="#cb22-11"></a><span class="st">               </span>tempo <span class="op">+</span></span>
<span id="cb22-12"><a href="#cb22-12"></a><span class="st">               </span>track.duration_ms <span class="op">+</span></span>
<span id="cb22-13"><a href="#cb22-13"></a><span class="st">               </span>C <span class="op">+</span><span class="st"> `</span><span class="dt">C#|Db</span><span class="st">`</span> <span class="op">+</span><span class="st"> </span>D <span class="op">+</span><span class="st"> `</span><span class="dt">D#|Eb</span><span class="st">`</span> <span class="op">+</span></span>
<span id="cb22-14"><a href="#cb22-14"></a><span class="st">               </span>E <span class="op">+</span><span class="st"> `</span><span class="dt">F</span><span class="st">`</span> <span class="op">+</span><span class="st"> `</span><span class="dt">F#|Gb</span><span class="st">`</span> <span class="op">+</span><span class="st"> </span>G <span class="op">+</span></span>
<span id="cb22-15"><a href="#cb22-15"></a><span class="st">               `</span><span class="dt">G#|Ab</span><span class="st">`</span> <span class="op">+</span><span class="st"> </span>A <span class="op">+</span><span class="st"> `</span><span class="dt">A#|Bb</span><span class="st">`</span> <span class="op">+</span><span class="st"> </span>B <span class="op">+</span></span>
<span id="cb22-16"><a href="#cb22-16"></a><span class="st">               </span>c01 <span class="op">+</span><span class="st"> </span>c02 <span class="op">+</span><span class="st"> </span>c03 <span class="op">+</span><span class="st"> </span>c04 <span class="op">+</span><span class="st"> </span>c05 <span class="op">+</span><span class="st"> </span>c06 <span class="op">+</span></span>
<span id="cb22-17"><a href="#cb22-17"></a><span class="st">               </span>c07 <span class="op">+</span><span class="st"> </span>c08 <span class="op">+</span><span class="st"> </span>c09 <span class="op">+</span><span class="st"> </span>c10 <span class="op">+</span><span class="st"> </span>c11 <span class="op">+</span><span class="st"> </span>c12,</span>
<span id="cb22-18"><a href="#cb22-18"></a>           <span class="dt">data =</span> indie) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb22-19"><a href="#cb22-19"></a><span class="st">    </span><span class="kw">step_center</span>(<span class="kw">all_predictors</span>()) <span class="op">%&gt;%</span></span>
<span id="cb22-20"><a href="#cb22-20"></a><span class="st">    </span><span class="kw">step_scale</span>(<span class="kw">all_predictors</span>()) <span class="op">%&gt;%</span></span>
<span id="cb22-21"><a href="#cb22-21"></a><span class="st">    </span><span class="co"># step_range(all_predictors()) %&gt;% </span></span>
<span id="cb22-22"><a href="#cb22-22"></a><span class="st">    </span><span class="kw">prep</span>(indie) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb22-23"><a href="#cb22-23"></a><span class="st">    </span>juice</span></code></pre></div>
</div>
<div id="cross-validation" class="section level3">
<h3 class="hasAnchor">
<a href="#cross-validation" class="anchor"></a>Cross-Validation</h3>
<p>The <code>vfold_cv</code> function sets up cross-validation. We will use 5-fold cross-validation here in the interest of spped, but 10-fold cross-validation is more typical.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>indie_cv &lt;-<span class="st"> </span>indie_class <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">vfold_cv</span>(<span class="dv">5</span>)</span></code></pre></div>
</div>
<div id="classification-algorithms" class="section level3">
<h3 class="hasAnchor">
<a href="#classification-algorithms" class="anchor"></a>Classification Algorithms</h3>
<p>Your DataCamp tutorials this week introduced four classical algorithms for classification: <span class="math inline">\(k\)</span>-nearest neighbour, naive Bayes, logistic regression, and decision trees. Other than naive Bayes, all of them can be implemented more simply in <code>tidymodels</code>. In order to use cross-validation, however, we need to write some local helper functions to <code>fit</code> the classifier on the training sets, <code>predict</code> the labels for the test/validation sets, and <code>bind</code> the results to the original data.</p>
<div id="k-nearest-neighbour" class="section level4">
<h4 class="hasAnchor">
<a href="#k-nearest-neighbour" class="anchor"></a><span class="math inline">\(k\)</span>-Nearest Neighbour</h4>
<p>A <span class="math inline">\(k\)</span>-nearest neighbour classifier often works just fine with only one neighbour. It is very sensitive to the choice of features, however. Let’s check the performance as a baseline and come back to it later.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>indie_knn &lt;-<span class="st"> </span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="st">  </span><span class="kw">nearest_neighbor</span>(<span class="dt">mode =</span> <span class="st">'classification'</span>, <span class="dt">neighbors =</span> <span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="st">  </span><span class="kw">set_engine</span>(<span class="st">'kknn'</span>)</span>
<span id="cb24-4"><a href="#cb24-4"></a>predict_knn &lt;-<span class="st"> </span><span class="cf">function</span>(split)</span>
<span id="cb24-5"><a href="#cb24-5"></a>    <span class="kw">fit</span>(indie_knn, playlist <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> <span class="kw">analysis</span>(split)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb24-6"><a href="#cb24-6"></a><span class="st">    </span><span class="kw"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span>(<span class="kw">assessment</span>(split), <span class="dt">type =</span> <span class="st">'class'</span>) <span class="op">%&gt;%</span></span>
<span id="cb24-7"><a href="#cb24-7"></a><span class="st">    </span><span class="kw">bind_cols</span>(<span class="kw">assessment</span>(split))</span></code></pre></div>
<p>After a little awkwardness with cross-validation, we can use <code>conf_mat</code> to get a confusion matrix.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>indie_cv <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">pred =</span> <span class="kw">map</span>(splits, predict_knn)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">unnest</span>(pred) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb25-3"><a href="#cb25-3"></a><span class="st">    </span><span class="kw">conf_mat</span>(<span class="dt">truth =</span> playlist, <span class="dt">estimate =</span> .pred_class)</span></code></pre></div>
<pre><code>##                Truth
## Prediction      Indie Party Indie Pop Indie Workout
##   Indie Party            10         4            10
##   Indie Pop               4        11             5
##   Indie Workout           6         5             5</code></pre>
<p>These matrices <code>autoplot</code> in two forms.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>indie_cv <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">pred =</span> <span class="kw">map</span>(splits, predict_knn)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">unnest</span>(pred) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb27-3"><a href="#cb27-3"></a><span class="st">    </span><span class="kw">conf_mat</span>(<span class="dt">truth =</span> playlist, <span class="dt">estimate =</span> .pred_class) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb27-4"><a href="#cb27-4"></a><span class="st">    </span><span class="kw">autoplot</span>(<span class="dt">type =</span> <span class="st">'mosaic'</span>)</span></code></pre></div>
<p><img src="compmus-w11_files/figure-html/unnamed-chunk-15-1.png" width="700"></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>indie_cv <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">pred =</span> <span class="kw">map</span>(splits, predict_knn)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">unnest</span>(pred) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="st">    </span><span class="kw">conf_mat</span>(<span class="dt">truth =</span> playlist, <span class="dt">estimate =</span> .pred_class) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb28-4"><a href="#cb28-4"></a><span class="st">    </span><span class="kw">autoplot</span>(<span class="dt">type =</span> <span class="st">'heatmap'</span>)</span></code></pre></div>
<p><img src="compmus-w11_files/figure-html/unnamed-chunk-16-1.png" width="700"></p>
<p>We can also compute statistics like accuracy, Cohen’s kappa, or the J-measure.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>indie_cv <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">pred =</span> <span class="kw">map</span>(splits, predict_knn)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">unnest</span>(pred) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb29-3"><a href="#cb29-3"></a><span class="st">    </span><span class="kw">metric_set</span>(accuracy, kap, j_index)(<span class="dt">truth =</span> playlist, <span class="dt">estimate =</span> .pred_class)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   .metric  .estimator .estimate
##   &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
## 1 accuracy multiclass     0.433
## 2 kap      multiclass     0.15 
## 3 j_index  macro          0.15</code></pre>
</div>
<div id="logistic-and-multinomial-regression" class="section level4">
<h4 class="hasAnchor">
<a href="#logistic-and-multinomial-regression" class="anchor"></a>Logistic and Multinomial Regression</h4>
<p>In the two-class case, we use logistic regression, but beware if you have more than two classes! R will just build a classifier for the first two without warning.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>indie_logistic &lt;-<span class="st"> </span><span class="kw">logistic_reg</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">set_engine</span>(<span class="st">'glm'</span>)</span>
<span id="cb31-2"><a href="#cb31-2"></a>predict_logistic &lt;-<span class="st"> </span><span class="cf">function</span>(split)</span>
<span id="cb31-3"><a href="#cb31-3"></a>    <span class="kw">fit</span>(indie_logistic, playlist <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> <span class="kw">analysis</span>(split)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb31-4"><a href="#cb31-4"></a><span class="st">    </span><span class="kw"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span>(<span class="kw">assessment</span>(split), <span class="dt">type =</span> <span class="st">'class'</span>) <span class="op">%&gt;%</span></span>
<span id="cb31-5"><a href="#cb31-5"></a><span class="st">    </span><span class="kw">bind_cols</span>(<span class="kw">assessment</span>(split))</span></code></pre></div>
<p>With three or more classes, we need multinomial regression instead. You can adjust the penalty parameter if you are feeling adventurous.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>indie_multinom &lt;-<span class="st"> </span><span class="kw">multinom_reg</span>(<span class="dt">penalty =</span> <span class="fl">0.1</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">set_engine</span>(<span class="st">'glmnet'</span>)</span>
<span id="cb32-2"><a href="#cb32-2"></a>predict_multinom &lt;-<span class="st"> </span><span class="cf">function</span>(split)</span>
<span id="cb32-3"><a href="#cb32-3"></a>    <span class="kw">fit</span>(indie_multinom, playlist <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> <span class="kw">analysis</span>(split)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb32-4"><a href="#cb32-4"></a><span class="st">    </span><span class="kw"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span>(<span class="kw">assessment</span>(split), <span class="dt">type =</span> <span class="st">'class'</span>) <span class="op">%&gt;%</span></span>
<span id="cb32-5"><a href="#cb32-5"></a><span class="st">    </span><span class="kw">bind_cols</span>(<span class="kw">assessment</span>(split))</span></code></pre></div>
<p>It is not a strong classifier for this problem.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>indie_cv <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb33-2"><a href="#cb33-2"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">pred =</span> <span class="kw">map</span>(splits, predict_multinom)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">unnest</span>(pred) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb33-3"><a href="#cb33-3"></a><span class="st">    </span><span class="kw">metric_set</span>(accuracy, kap, j_index)(<span class="dt">truth =</span> playlist, <span class="dt">estimate =</span> .pred_class)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   .metric  .estimator .estimate
##   &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
## 1 accuracy multiclass     0.517
## 2 kap      multiclass     0.275
## 3 j_index  macro          0.275</code></pre>
<p>We can look at the most important features in the model by using the <code>coef</code> method.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>indie_class <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb35-2"><a href="#cb35-2"></a><span class="st">    </span><span class="kw">fit</span>(indie_multinom, playlist <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> .) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb35-3"><a href="#cb35-3"></a><span class="st">    </span><span class="kw">pluck</span>(<span class="st">'fit'</span>) <span class="op">%&gt;%</span></span>
<span id="cb35-4"><a href="#cb35-4"></a><span class="st">    </span>coef</span></code></pre></div>
<pre><code>## $`Indie Party`
## 35 x 95 sparse Matrix of class "dgCMatrix"</code></pre>
<pre><code>##    [[ suppressing 95 column names 's0', 's1', 's2' ... ]]</code></pre>
<pre><code>##                                                                    
##                   8.144527e-16 0.000586158 0.002054755 0.0040570055
## danceability      .            .           .           .           
## energy            .            .           .           .           
## loudness          .            .           .           .           
## speechiness       .            .           .           .           
## acousticness      .            .           .           .           
## instrumentalness  .            .           .           .           
## liveness          .            .           .           .           
## valence           .            .           .           .           
## tempo             .            .           .           .           
## track.duration_ms .            .           .           .           
## C                 .            .           .           .           
## `C#|Db`           .            .           .           .           
## D                 .            .           .           .           
## `D#|Eb`           .            .           .           .           
## E                 .            .           .           .           
## F                 .            .           .           .           
## `F#|Gb`           .            .           .           .           
## G                 .            .           .           .           
## `G#|Ab`           .            .           .           .           
## A                 .            .           .           .           
## `A#|Bb`           .            .           .           .           
## B                 .            .           .           .           
## c01               .            .           .           .           
## c02               .            .           .           0.0004231808
## c03               .            .           .           .           
## c04               .            .           .           .           
## c05               .            .           .           .           
## c06               .            .           .           .           
## c07               .            .           .           .           
## c08               .            .           .           .           
## c09               .            .           .           .           
## c10               .            .           .           .           
## c11               .            .           .           .           
## c12               .            .           .           .           
##                                                                       
##                    0.003947798  0.003105444  0.001677408 -0.0002368354
## danceability       .            .            .            .           
## energy             .            .            .            .           
## loudness           .            .            .            .           
## speechiness        .            .            .            .           
## acousticness       .            .            .            .           
## instrumentalness   .            .            .            .           
## liveness           .            .            .            .           
## valence            .            .            .            .           
## tempo              .            .            .            .           
## track.duration_ms  .            .            .            .           
## C                  .            .            .            .           
## `C#|Db`            .            .            .            .           
## D                  .            .            .            .           
## `D#|Eb`            .            .            .            .           
## E                  .            .            .            .           
## F                  .            .            .            .           
## `F#|Gb`            .            .            .            .           
## G                  .            .            .            .           
## `G#|Ab`            .            .            .            .           
## A                  .            .            .            .           
## `A#|Bb`            .            .            .            .           
## B                  .            .            .            .           
## c01                .            .            .            .           
## c02                0.057014295  0.103477657  0.147122025  0.1882475218
## c03                .            .            .            .           
## c04                .            .            .            .           
## c05               -0.022110676 -0.050630762 -0.076685133 -0.1009724569
## c06                .            .            .            .           
## c07                .            .            .            .           
## c08                .            .            .            .           
## c09                .            .            .            .           
## c10                .            .            .            .           
## c11                .            .            .            .           
## c12                .            .            .            .           
##                                                                     
##                   -0.002441596 -0.005135629 -0.007776094 -0.01188245
## danceability       .            .            .            .         
## energy             0.016971440  0.058908718  0.095347299  0.12045580
## loudness           .            .            .            .         
## speechiness        .            .            .            .         
## acousticness       .            .            .            .         
## instrumentalness   .            .            .            .         
## liveness           .            .            0.031707018  0.07287892
## valence            .            .            .            .         
## tempo              .            .            .            .         
## track.duration_ms  .            .            .            .         
## C                  .            .            .            .         
## `C#|Db`            .            .            .            0.02498305
## D                  .            .            .            .         
## `D#|Eb`            .            .            .            .         
## E                  .            .            .            .         
## F                  .            .            .            .         
## `F#|Gb`            .            .            .            .         
## G                  .            .            .            .         
## `G#|Ab`            .            .            .            .         
## A                  .            .            .            .         
## `A#|Bb`            .            .            .            .         
## B                  .            .            .            .         
## c01                .            .            .            .         
## c02                0.213967179  0.220669663  0.232647664  0.24664768
## c03                .            .            .            .         
## c04                .            .            .            .         
## c05               -0.123941045 -0.145088569 -0.150149422 -0.14992458
## c06                .            .            .            .         
## c07                .            .            .            .         
## c08                .            .            .            .         
## c09                .            .            .            .         
## c10                .            .            .            .         
## c11                .            .            .            .         
## c12                .            .            .            .         
##                                                                              
##                   -0.01755776 -0.02368258 -0.02956626 -0.03433656 -0.03878573
## danceability       .           .           .           .           .         
## energy             0.13831532  0.15342530  0.16271391  0.16592257  0.17110003
## loudness           .           .           .           .           .         
## speechiness        .           .           .           .           .         
## acousticness       .           .           .           .           .         
## instrumentalness   .           .           .           .           .         
## liveness           0.11597003  0.15747063  0.19425590  0.22853042  0.25184393
## valence            .           .           .           .           .         
## tempo              .           .           .           .           .         
## track.duration_ms  .           .           .           .           .         
## C                  .           .           .           .           .         
## `C#|Db`            0.06916932  0.10811827  0.14253906  0.17443184  0.17989588
## D                  .           .           .           .           .         
## `D#|Eb`            .           .           .           .           .         
## E                  .           .           .           .           .         
## F                  .           .           .           .           .         
## `F#|Gb`            .           .           .          -0.02378219 -0.06206264
## G                  .           .           .           .           .         
## `G#|Ab`            .           .           .           .           .         
## A                  .           .           .           .           .         
## `A#|Bb`            .           .           .           .           .         
## B                  .           .           .           .           .         
## c01                .           .           .           .           .         
## c02                0.26178173  0.26653139  0.26608709  0.27514375  0.28807302
## c03                .           .           .           .           .         
## c04                .           .           .           .           .         
## c05               -0.14819666 -0.14193753 -0.12819901 -0.11184789 -0.10897810
## c06                .           .           .           .           .         
## c07                .           .           .           .           .         
## c08                .           .           .           .           .         
## c09                .           .           .           .           .         
## c10                .           0.02005095  0.03494189  0.04530009  0.04954546
## c11                .           .           .           .           .         
## c12                .           .           .           .           .         
##                                                                      
##                   -0.043885447 -0.049660906 -0.057118920 -0.067913095
## danceability       .            .            .            .          
## energy             0.174135458  0.166035436  0.150881667  0.127810309
## loudness           .            .            .            .          
## speechiness        .            .            .            .          
## acousticness       .            .            .            .          
## instrumentalness   .            .            .            .          
## liveness           0.264935713  0.282630015  0.298978066  0.315863034
## valence            .            .            0.014449455  0.067034088
## tempo              .            0.040620251  0.083690725  0.124909993
## track.duration_ms  .            .            .            .          
## C                  .            .            .            .          
## `C#|Db`            0.179979757  0.181069384  0.183868557  0.195039112
## D                  .            .            .            .          
## `D#|Eb`            .            .            .            .          
## E                  .            .            .            .          
## F                  .            .            .            .          
## `F#|Gb`           -0.101060280 -0.144956482 -0.185438745 -0.225656099
## G                  .            .            .            .          
## `G#|Ab`            .            .            .            .          
## A                  .            .            .            .          
## `A#|Bb`            .            .            .            .          
## B                  .            .            .            .          
## c01                .            .            .            .          
## c02                0.300551551  0.323174722  0.354438779  0.377546342
## c03                0.002019881  0.003011276  0.001019797  0.004657264
## c04                .            .            .            .          
## c05               -0.110159827 -0.103468115 -0.091470680 -0.085056046
## c06                .            .            .            .          
## c07                .            .            .            .          
## c08                .            .            .            .          
## c09                .            .            .            .          
## c10                0.052090140  0.062495603  0.082129540  0.105870665
## c11                .            .            .            .          
## c12                .            .            .            .          
##                                                                               
##                   -0.08032487 -0.09322494 -0.10632437 -0.11943759 -0.134028560
## danceability       .           .           .           .          -0.007850206
## energy             0.10426796  0.08689750  0.07200039  0.03512492  .          
## loudness           .           .           .           .          -0.013521665
## speechiness        .           .           .           .           .          
## acousticness       .           .           .           .           .          
## instrumentalness   .           .           .           .           .          
## liveness           0.33291308  0.35371973  0.37575903  0.39314348  0.406091476
## valence            0.12213611  0.17162956  0.21970394  0.25901023  0.292445671
## tempo              0.16016179  0.19631772  0.23298410  0.27600697  0.325087414
## track.duration_ms  .           .           .           .           .          
## C                  .           .           .           .           .          
## `C#|Db`            0.20982814  0.22699095  0.24622206  0.26606599  0.285990069
## D                  .           .           .           .           .          
## `D#|Eb`            .           .           .           .           .          
## E                  .           .           .           .           .          
## F                  .           .           .           .           .          
## `F#|Gb`           -0.25696621 -0.28972472 -0.32654507 -0.36645266 -0.416512404
## G                  .           .           .           .           .          
## `G#|Ab`            .           .           .           .           .          
## A                  .           .           .          -0.02973006 -0.094417264
## `A#|Bb`            .           .           .           .           .          
## B                  0.02614629  0.05499359  0.08477303  0.11334290  0.136744569
## c01                .           .           .           .           .          
## c02                0.40352197  0.43299638  0.46360560  0.49514740  0.525434655
## c03                0.01624448  0.02596761  0.03614702  0.05380727  0.078642644
## c04                .           .           .           .           .          
## c05               -0.07434053 -0.06459080 -0.05561078 -0.04250440 -0.026876347
## c06                .           .           .           .           .          
## c07                .           .           .           .           .          
## c08                .           .           .           .           .          
## c09                .           .           .           .           .          
## c10                0.13020144  0.15174521  0.16705540  0.19869934  0.239493745
## c11                .           .           .           0.03174271  0.080799537
## c12                .           .           .           .           .          
##                                                                               
##                   -0.15157184 -0.166130433 -0.18227210 -0.20128574 -0.22134866
## danceability      -0.01924442 -0.039581321 -0.06582030 -0.09393177 -0.11976084
## energy             .           .            .           .           .         
## loudness          -0.06368721 -0.120122097 -0.18182375 -0.24458326 -0.30595721
## speechiness        .          -0.002376695 -0.01036632 -0.01599949 -0.02043244
## acousticness       .           .            .           .           .         
## instrumentalness   .           .            .           .           .         
## liveness           0.42101465  0.432541252  0.44150962  0.45266798  0.45437449
## valence            0.32876178  0.376995391  0.43089655  0.48681853  0.54338015
## tempo              0.35905866  0.392337067  0.42324025  0.45794167  0.51197864
## track.duration_ms  .           .            .           .           .         
## C                  .           .            .           .           .         
## `C#|Db`            0.31239158  0.353329366  0.40499660  0.46126316  0.50744088
## D                  .           .            .           .           .         
## `D#|Eb`            .           .            .           .           .         
## E                  .           .            .           .          -0.04246864
## F                  .           .            .           .           .         
## `F#|Gb`           -0.47143813 -0.528439587 -0.58278207 -0.63404825 -0.68641715
## G                  .           .            .           .           .         
## `G#|Ab`            .           .            .           .           .         
## A                 -0.15611000 -0.230860298 -0.30931689 -0.38997828 -0.46512101
## `A#|Bb`            .           .            .           .           .         
## B                  0.16014386  0.179886886  0.19934626  0.21971563  0.24752237
## c01                .           .            .           .           .         
## c02                0.55697617  0.570846353  0.57144463  0.57235376  0.55001618
## c03                0.09955520  0.141590687  0.19811031  0.25828309  0.32104899
## c04                .           .            .           .           .         
## c05               -0.01523278 -0.001096330  .           .           .         
## c06                .           .            .           .           .         
## c07                .           .            .           .           .         
## c08                .           .            .           .           .         
## c09                .           .            .           .           .         
## c10                0.27485524  0.328671157  0.39238950  0.46248971  0.54108516
## c11                0.11688493  0.143337157  0.16479888  0.19215132  0.24259511
## c12                .           .            .           .           .         
##                                                                                
##                   -0.24505088 -0.271615608 -0.29956889 -0.330441877 -0.36977369
## danceability      -0.14683163 -0.181458920 -0.21916788 -0.259637451 -0.29329096
## energy             .           .            .           .            .         
## loudness          -0.36902650 -0.435755951 -0.50342795 -0.581214075 -0.68775771
## speechiness       -0.02713027 -0.031323894 -0.03394305 -0.034109514 -0.01158466
## acousticness       .           .            .           .            .         
## instrumentalness   .           .            .           .            .         
## liveness           0.45070920  0.451377394  0.45148398  0.453513605  0.44544103
## valence            0.60731941  0.677573337  0.74865529  0.821833491  0.90042037
## tempo              0.57002571  0.627680859  0.69185139  0.761709390  0.83647717
## track.duration_ms  .           .            .           .            .         
## C                  .           .            .           .            0.04494504
## `C#|Db`            0.56723789  0.635949070  0.70881681  0.782888950  0.83655527
## D                  .           .            .           .            .         
## `D#|Eb`            .           .            .           .            .         
## E                 -0.08621012 -0.126268509 -0.16643189 -0.212096829 -0.30310522
## F                  .           .            .           .            .         
## `F#|Gb`           -0.73887027 -0.802245296 -0.87483137 -0.960702391 -1.08122477
## G                  .           .            .           0.004944972  .         
## `G#|Ab`            0.03528087  0.076196351  0.11547233  0.147565852  0.16518184
## A                 -0.53304484 -0.594078758 -0.65296281 -0.710166142 -0.77120482
## `A#|Bb`            .           .            .           .            .         
## B                  0.28975754  0.332831986  0.37485428  0.412257843  0.42411373
## c01                .           .            .           .            .         
## c02                0.52974606  0.522436130  0.51535847  0.500999906  0.47150076
## c03                0.39242878  0.466482768  0.53805130  0.608671774  0.67715276
## c04                .           .            .           .            .         
## c05                .           .            .           .            .         
## c06                .           .            .           .            .         
## c07                .           .            .           .            .         
## c08                .           .            .           .            .         
## c09                .           .            .           .            .         
## c10                0.60001124  0.644781750  0.68633264  0.728495157  0.77719687
## c11                0.28205909  0.301330376  0.32101203  0.336360645  0.35542481
## c12                .          -0.006172544 -0.01713112 -0.030971734 -0.04827535
##                                                                           
##                   -0.41427787 -0.45816143 -0.5017606 -0.5460593 -0.5920592
## danceability      -0.33369461 -0.38493575 -0.4419686 -0.5054906 -0.5721346
## energy             .           .           .          .          .        
## loudness          -0.80391877 -0.91747625 -1.0178619 -1.1203965 -1.2264598
## speechiness        .           .           .          .          .        
## acousticness       .           .           .          .          .        
## instrumentalness   .           .           .          .          .        
## liveness           0.43214606  0.41343163  0.3865677  0.3574150  0.3267028
## valence            0.98324573  1.07134787  1.1677613  1.2668146  1.3711230
## tempo              0.91903835  1.00185124  1.0862397  1.1722327  1.2627568
## track.duration_ms  .           .           .          .          .        
## C                  0.13322514  0.21781192  0.3095514  0.4103180  0.5097028
## `C#|Db`            0.89464260  0.96799955  1.0453952  1.1223762  1.1995880
## D                  .           .           .          .          .        
## `D#|Eb`            .           .           .          .          .        
## E                 -0.39800570 -0.47311332 -0.5440165 -0.6177488 -0.6965860
## F                  .           .           .          .          .        
## `F#|Gb`           -1.20540898 -1.33721310 -1.4583804 -1.5728862 -1.6902976
## G                  .           .           .          .          .        
## `G#|Ab`            0.18373641  0.20936121  0.2404447  0.2675313  0.2940987
## A                 -0.83285138 -0.89571175 -0.9592145 -1.0218976 -1.0830276
## `A#|Bb`            .           .           .          .          .        
## B                  0.41936954  0.41842550  0.4165776  0.4071695  0.3978283
## c01                .           .           .          .          .        
## c02                0.44256473  0.41178477  0.3817873  0.3512180  0.3126693
## c03                0.73868685  0.80363192  0.8626746  0.9209323  0.9762695
## c04                .           .           .          .          .        
## c05                .           .           .          .          .        
## c06                .           .           .          .          .        
## c07                .           .           .          .          .        
## c08                .           .           .          .          .        
## c09                .           .           .          .          .        
## c10                0.84230997  0.90538174  0.9718684  1.0418987  1.1121836
## c11                0.37602241  0.39765821  0.4286545  0.4573389  0.4863961
## c12               -0.06702886 -0.08500917 -0.1046119 -0.1261137 -0.1481744
##                                                                          
##                   -0.6395214 -0.6881557 -0.7349589 -0.7785307 -0.82038803
## danceability      -0.6419563 -0.7161996 -0.7971926 -0.8859289 -0.98686152
## energy             .          .          .          .          .         
## loudness          -1.3358445 -1.4470728 -1.5590810 -1.6699170 -1.78502324
## speechiness        .          .          .          .          .         
## acousticness       .          .          .          .          .         
## instrumentalness   .          .          .          .          .         
## liveness           0.2945002  0.2606973  0.2231934  0.1839991  0.13335168
## valence            1.4808193  1.5945083  1.7076600  1.8180109  1.92793762
## tempo              1.3570029  1.4537815  1.5546233  1.6601692  1.76426537
## track.duration_ms  .          .          .          .          .         
## C                  0.6065841  0.7044728  0.7997716  0.8906555  0.99241253
## `C#|Db`            1.2771313  1.3551901  1.4302874  1.5013004  1.56709828
## D                  .          .          .          .          .         
## `D#|Eb`            .          .          .          .          .         
## E                 -0.7787275 -0.8624351 -0.9522293 -1.0499872 -1.15098035
## F                  .          .          .          .          .         
## `F#|Gb`           -1.8096817 -1.9314210 -2.0590442 -2.1936430 -2.33055304
## G                  .          .          .          .          .         
## `G#|Ab`            0.3215585  0.3489350  0.3754166  0.3999204  0.42042470
## A                 -1.1435193 -1.2045167 -1.2658818 -1.3265071 -1.38025471
## `A#|Bb`            .          .          .          .          .         
## B                  0.3891755  0.3787021  0.3681548  0.3574797  0.33254836
## c01                .          .          .          .          .         
## c02                0.2658803  0.2151445  0.1611686  0.1050394  0.03922976
## c03                1.0282770  1.0780792  1.1203537  1.1537664  1.17511449
## c04                .          .          .          .          .         
## c05                .          .          .          .          .         
## c06                .          .          .          .          .         
## c07                .          .          .          .          .         
## c08                .          .          .          .          .         
## c09                .          .          .          .          .         
## c10                1.1811003  1.2501970  1.3164910  1.3792079  1.44578861
## c11                0.5174488  0.5512036  0.5914605  0.6372958  0.68526526
## c12               -0.1705403 -0.1933964 -0.2221954 -0.2587069 -0.29581497
##                                                                              
##                   -0.86527490 -0.91491595 -0.96481126 -1.01483497 -1.06853993
## danceability      -1.09535222 -1.18261777 -1.27527256 -1.36984472 -1.46000878
## energy             .           .           .           .           .         
## loudness          -1.89838172 -1.99082799 -2.08681707 -2.18270882 -2.25977559
## speechiness        .           .           .           .           .         
## acousticness       .           .           .           .           .         
## instrumentalness   .           .           .           .           .         
## liveness           0.08973766  0.08429768  0.07407266  0.06291575  0.06030411
## valence            2.03960592  2.15843376  2.27824338  2.39795419  2.51717226
## tempo              1.86692364  1.98548827  2.10385048  2.22242758  2.33573139
## track.duration_ms  .           .           .           .           .         
## C                  1.10309659  1.17407094  1.24465357  1.31572108  1.39185933
## `C#|Db`            1.63359045  1.69318978  1.74913389  1.80452684  1.86133848
## D                  .           .           .           .           .         
## `D#|Eb`            .           .           .           .           .         
## E                 -1.24414626 -1.33868094 -1.43404313 -1.52898728 -1.62003423
## F                  .           .           .           .           .         
## `F#|Gb`           -2.46558366 -2.59774400 -2.73057014 -2.86298008 -2.99541671
## G                  .           .           .           .           .         
## `G#|Ab`            0.44305188  0.47405332  0.50684274  0.54030665  0.56835644
## A                 -1.42833453 -1.48634162 -1.54390765 -1.60209503 -1.66314447
## `A#|Bb`           -0.00286535 -0.05564954 -0.10295061 -0.14798458 -0.19317882
## B                  0.30033266  0.31222150  0.32297092  0.33311054  0.34022534
## c01                .           .           .           .           .         
## c02                .           .           .           .           .         
## c03                1.17474913  1.17233079  1.15172221  1.12850300  1.12037467
## c04                .           .           .           .           .         
## c05                .           .           .           .           .         
## c06                .           .           .           .           .         
## c07                .           .           .           .           .         
## c08                .           .           .           .           .         
## c09                .           .           .           .           .         
## c10                1.51437022  1.58812607  1.65500076  1.72071627  1.79048756
## c11                0.72463155  0.74452164  0.77391684  0.80541872  0.82288004
## c12               -0.33309728 -0.37569097 -0.42102506 -0.46671453 -0.50473694
##                                                                            
##                   -1.12517443 -1.1787504 -1.23525053 -1.29180084 -1.3479107
## danceability      -1.55632023 -1.6741521 -1.80089434 -1.91972639 -2.0382181
## energy             .           .          .           .           .        
## loudness          -2.32506487 -2.3787079 -2.43623855 -2.49009923 -2.5446829
## speechiness        .           .          .           .           .        
## acousticness       .           .          .           .           .        
## instrumentalness   .           .          .           .           .        
## liveness           0.06724206  0.0821351  0.08982901  0.09432255  0.0917441
## valence            2.63977238  2.7652991  2.89282150  3.01534704  3.1349159
## tempo              2.44474777  2.5497388  2.65095917  2.75311125  2.8546378
## track.duration_ms  .           .          .           .           .        
## C                  1.47096318  1.5439866  1.61993776  1.69186551  1.7640042
## `C#|Db`            1.92162425  1.9924968  2.07061828  2.14754829  2.2245821
## D                  .           .          .           .           .        
## `D#|Eb`            .           .          .           .           .        
## E                 -1.71116605 -1.7980774 -1.87496160 -1.94837945 -2.0182677
## F                  .           .          .           .           .        
## `F#|Gb`           -3.12837897 -3.2588498 -3.39192083 -3.52316100 -3.6529526
## G                  .           .          .           .           .        
## `G#|Ab`            0.59310664  0.6121014  0.62861307  0.64735420  0.6677900
## A                 -1.72790897 -1.7897725 -1.85319158 -1.91976247 -1.9882593
## `A#|Bb`           -0.24697940 -0.3094217 -0.35642942 -0.40503879 -0.4468553
## B                  0.34690202  0.3515317  0.34854070  0.35103166  0.3532359
## c01                .           .          .           .           .        
## c02                .           .          .           .           .        
## c03                1.10846705  1.0887731  1.07157001  1.06378425  1.0558972
## c04                0.01028323  0.0461261  0.07454709  0.09474887  0.1094602
## c05                .           .          .           .           .        
## c06                .           .          .           .           .        
## c07                .           .          .           .           .        
## c08                .           .          .           .           .        
## c09                .           .          .           .           .        
## c10                1.86346484  1.9371492  2.00687590  2.07822655  2.1490041
## c11                0.83756656  0.8455683  0.85240967  0.86205328  0.8740105
## c12               -0.54068890 -0.5751566 -0.60760998 -0.63729211 -0.6660554
##                                                                              
##                   -1.40353598 -1.45796253 -1.5118238 -1.565249849 -1.61775910
## danceability      -2.15476972 -2.26975738 -2.3843859 -2.498954570 -2.61229602
## energy             .           .           .          .            .         
## loudness          -2.59814884 -2.64894513 -2.6985818 -2.749873044 -2.79615386
## speechiness        .           .           .          .            .         
## acousticness       .           .           .          .            .         
## instrumentalness   .           .           .          .            .         
## liveness           0.08752947  0.08620205  0.0842541  0.078493263  0.08168395
## valence            3.25181776  3.36602478  3.4788420  3.590715025  3.69579393
## tempo              2.95667767  3.06006315  3.1632654  3.263635592  3.36154674
## track.duration_ms  .           .           .          .            .         
## C                  1.83469547  1.90336006  1.9719579  2.039026673  2.10174586
## `C#|Db`            2.30172241  2.37815351  2.4537463  2.532292399  2.61587691
## D                  .           .           .          .            .         
## `D#|Eb`            .           .           .          .            .         
## E                 -2.08650325 -2.15544455 -2.2236388 -2.284102305 -2.33405453
## F                  .           .           .          .            .         
## `F#|Gb`           -3.78133189 -3.90819765 -4.0341503 -4.159176752 -4.27824625
## G                  .           .           .          .            .         
## `G#|Ab`            0.68873440  0.70860996  0.7281078  0.751252912  0.77864509
## A                 -2.05823398 -2.12872609 -2.1998964 -2.269628490 -2.33887781
## `A#|Bb`           -0.48691726 -0.53029515 -0.5722633 -0.603387513 -0.63599544
## B                  0.35654395  0.36269897  0.3694067  0.376424077  0.38710118
## c01                .           .           .          .            .         
## c02                .           .           .          .            .         
## c03                1.05095987  1.04744515  1.0415416  1.022872288  1.00111254
## c04                0.12195172  0.13622433  0.1507324  0.164168367  0.18100714
## c05                .           .           .          .            .         
## c06                .           .           .          0.001910678  0.02638257
## c07                .           .           .          .            .         
## c08                .           .           .          .            .         
## c09                .           .           .          .            .         
## c10                2.22047003  2.29300175  2.3659917  2.437668369  2.51324214
## c11                0.88705704  0.90033867  0.9128961  0.924906036  0.95048379
## c12               -0.69442503 -0.72258403 -0.7512462 -0.782736924 -0.81322223
##                                                                             
##                   -1.66931243 -1.71978394 -1.76797587 -1.81347516 -1.8583855
## danceability      -2.72511363 -2.83762497 -2.95561502 -3.07046473 -3.1838382
## energy             .           .           .           .           .        
## loudness          -2.83983327 -2.88073666 -2.92422307 -2.96322767 -3.0006972
## speechiness        .           .           .           .           .        
## acousticness       .           .           .           .           .        
## instrumentalness   .           .           .           .           .        
## liveness           0.08745416  0.09566971  0.09442618  0.09957264  0.1031947
## valence            3.79715888  3.89722879  3.99855019  4.09657320  4.1925569
## tempo              3.45764488  3.55057315  3.64048496  3.73055749  3.8182051
## track.duration_ms  .           .           .           .           .        
## C                  2.16315755  2.22239844  2.28415752  2.34253678  2.4002822
## `C#|Db`            2.69993884  2.78436195  2.86930823  2.95147634  3.0337480
## D                  .           .           .           .           .        
## `D#|Eb`            .           .           .           .           .        
## E                 -2.38142259 -2.42551351 -2.46794984 -2.50646139 -2.5443287
## F                  .           .           .           .           .        
## `F#|Gb`           -4.39451187 -4.50864886 -4.62301509 -4.73487787 -4.8452177
## G                  .           .           .           .           .        
## `G#|Ab`            0.80649647  0.83505296  0.86424803  0.89465277  0.9253047
## A                 -2.40799595 -2.47707359 -2.54475636 -2.61081103 -2.6783071
## `A#|Bb`           -0.66853809 -0.70164866 -0.72350511 -0.75531469 -0.7851844
## B                  0.40035289  0.41636075  0.42923519  0.44374773  0.4614121
## c01                .           .           .           .           .        
## c02                .           .           .           .           .        
## c03                0.97479263  0.94557935  0.90210419  0.86324004  0.8228349
## c04                0.20232031  0.22748337  0.25564788  0.27940995  0.3051567
## c05                .           .           .           .           .        
## c06                0.05726676  0.08924970  0.11894779  0.15847309  0.1949530
## c07                .           .           .           .           .        
## c08                .           .           .           .           .        
## c09                .           .           .           .           .        
## c10                2.58952205  2.66629094  2.74006877  2.81595017  2.8934598
## c11                0.98178549  1.01740843  1.05440281  1.09631489  1.1403480
## c12               -0.84406110 -0.87610151 -0.91056431 -0.94410660 -0.9784747
##                                                                         
##                   -1.9028239 -1.9468744 -1.9896101 -2.0320150 -2.0738478
## danceability      -3.2975828 -3.4106036 -3.5227854 -3.6343297 -3.7411143
## energy             .          .          .          .          .        
## loudness          -3.0379840 -3.0748976 -3.1097979 -3.1441189 -3.1774595
## speechiness        .          .          .          .          .        
## acousticness       .          .          .          .          .        
## instrumentalness   .          .          .          .          .        
## liveness           0.1056952  0.1075882  0.1119042  0.1145115  0.1227508
## valence            4.2876291  4.3822030  4.4755597  4.5675124  4.6560743
## tempo              3.9045779  3.9900596  4.0748884  4.1590004  4.2444730
## track.duration_ms  .          .          .          .          .        
## C                  2.4572482  2.5133052  2.5674661  2.6217243  2.6737067
## `C#|Db`            3.1172588  3.2014017  3.2862184  3.3705631  3.4549958
## D                  .          .          .          .          .        
## `D#|Eb`            .          .          .          .          .        
## E                 -2.5807533 -2.6151112 -2.6474774 -2.6797702 -2.7099828
## F                  .          .          .          .          .        
## `F#|Gb`           -4.9548684 -5.0634151 -5.1706510 -5.2772391 -5.3823620
## G                  .          .          .          .          .        
## `G#|Ab`            0.9565822  0.9887297  1.0217166  1.0545677  1.0885140
## A                 -2.7464864 -2.8148900 -2.8835838 -2.9527952 -3.0230751
## `A#|Bb`           -0.8132158 -0.8405382 -0.8704270 -0.8989525 -0.9366013
## B                  0.4800887  0.5005016  0.5217561  0.5443557  0.5711189
## c01                .          .          .          .          .        
## c02                .          .          .          .          .        
## c03                0.7820501  0.7414972  0.7042967  0.6667291  0.6369264
## c04                0.3327235  0.3606754  0.3882812  0.4159109  0.4430962
## c05                .          .          .          .          .        
## c06                0.2305172  0.2656186  0.3021770  0.3383332  0.3775499
## c07                .          .          .          .          .        
## c08                .          .          .          .          .        
## c09                .          .          .          .          .        
## c10                2.9708552  3.0481003  3.1260023  3.2037817  3.2842444
## c11                1.1860834  1.2327747  1.2814687  1.3322051  1.3859798
## c12               -1.0131493 -1.0475320 -1.0815836 -1.1154690 -1.1479390
##                                                                         
##                   -2.1156883 -2.1570818 -2.1976852 -2.2308584 -2.2754159
## danceability      -3.8549802 -3.9603227 -4.0684313 -4.1651258 -4.2854243
## energy             .          .          .          .          .        
## loudness          -3.2120406 -3.2449426 -3.2769815 -3.3043238 -3.3361405
## speechiness        .          .          .          .          .        
## acousticness       .          .          .          .          .        
## instrumentalness   .          .          .          .          .        
## liveness           0.1210048  0.1315197  0.1375420  0.1606354  0.1469581
## valence            4.7466249  4.8337664  4.9222933  5.0048871  5.0998005
## tempo              4.3271665  4.4136333  4.4978283  4.5750246  4.6622951
## track.duration_ms  .          .          .          .          .        
## C                  2.7287034  2.7791626  2.8309581  2.8715152  2.9331494
## `C#|Db`            3.5387871  3.6228917  3.7058816  3.7866547  3.8666164
## D                  .          .          .          .          .        
## `D#|Eb`            .          .          .          .          .        
## E                 -2.7442709 -2.7745846 -2.8085151 -2.8323573 -2.8817933
## F                  .          .          .          .          .        
## `F#|Gb`           -5.4895760 -5.5938539 -5.6996379 -5.7934719 -5.9100660
## G                  .          .          .          .          .        
## `G#|Ab`            1.1190772  1.1522550  1.1825939  1.2194703  1.2437880
## A                 -3.0913846 -3.1611913 -3.2302403 -3.3016259 -3.3716534
## `A#|Bb`           -0.9606978 -1.0026477 -1.0383422 -1.0942867 -1.1121709
## B                  0.5933012  0.6203640  0.6470185  0.6742834  0.7018949
## c01                .          .          .          .          .        
## c02                .          .          .          .          .        
## c03                0.5961722  0.5704588  0.5396921  0.5321511  0.4806633
## c04                0.4712164  0.4985472  0.5255038  0.5544810  0.5785925
## c05                .          .          .          .          .        
## c06                0.4118167  0.4536840  0.4906520  0.5319692  0.5563137
## c07                .          .          .          .          .        
## c08                .          .          .          .          .        
## c09                .          .          .          .          .        
## c10                3.3607443  3.4416839  3.5220133  3.6032963  3.6808357
## c11                1.4384044  1.4926428  1.5472774  1.5973593  1.6516235
## c12               -1.1823713 -1.2140214 -1.2471136 -1.2760957 -1.3128862
##                                                                         
##                   -2.3067900 -2.3444638 -2.3774892 -2.4131988 -2.4492866
## danceability      -4.3752997 -4.4845819 -4.5841555 -4.6895841 -4.7955374
## energy             .          .          .          .          .        
## loudness          -3.3658519 -3.3928202 -3.4183685 -3.4450021 -3.4722838
## speechiness        .          .          .          .          .        
## acousticness       .          .          .          .          .        
## instrumentalness   .          .          .          .          .        
## liveness           0.1748272  0.1938893  0.2100978  0.2244726  0.2372651
## valence            5.1776755  5.2754324  5.3604634  5.4502892  5.5405120
## tempo              4.7378616  4.8189707  4.8887229  4.9621981  5.0362829
## track.duration_ms  .          .          .          .          .        
## C                  2.9710946  3.0146269  3.0605694  3.1066909  3.1533285
## `C#|Db`            3.9449397  4.0262032  4.0983649  4.1712416  4.2428539
## D                  .          .          .          .          .        
## `D#|Eb`            .          .          .          .          .        
## E                 -2.8995136 -2.9368116 -2.9724776 -3.0141322 -3.0584644
## F                  .          .          .          .          .        
## `F#|Gb`           -5.9978301 -6.1065533 -6.2089013 -6.3144928 -6.4208745
## G                  .          .          .          .          .        
## `G#|Ab`            1.2802605  1.3139780  1.3427340  1.3702574  1.3967482
## A                 -3.4403099 -3.5073052 -3.5724313 -3.6379634 -3.7037236
## `A#|Bb`           -1.1730374 -1.2335424 -1.2911696 -1.3475850 -1.4039633
## B                  0.7237477  0.7473653  0.7669693  0.7871817  0.8071976
## c01                .          .          .          .          .        
## c02                .          .          .          .          .        
## c03                0.4837112  0.4681503  0.4510184  0.4326247  0.4141992
## c04                0.6081709  0.6313621  0.6560268  0.6803318  0.7045696
## c05                .          .          .          .          .        
## c06                0.5997297  0.6401873  0.6736357  0.7036198  0.7316438
## c07                .          .          .          .          .        
## c08                .          .          .          .          .        
## c09                .          .          .          .          .        
## c10                3.7625291  3.8453096  3.9240777  4.0050325  4.0862846
## c11                1.6983395  1.7523195  1.8048311  1.8579656  1.9110227
## c12               -1.3399220 -1.3691467 -1.3981155 -1.4277522 -1.4574760
##                                                                         
##                   -2.4848459 -2.5201540 -2.5564620 -2.5880059 -2.6223013
## danceability      -4.8999461 -5.0060177 -5.1097111 -5.2078338 -5.3109693
## energy             .          .          .          .          .        
## loudness          -3.5003115 -3.5279742 -3.5563593 -3.5836780 -3.6110012
## speechiness        .          .          .          .          .        
## acousticness       .          .          .          .          .        
## instrumentalness   .          .          .          .          .        
## liveness           0.2545345  0.2629876  0.2706467  0.2810692  0.2914469
## valence            5.6289977  5.7176433  5.8055313  5.8895810  5.9783110
## tempo              5.1139834  5.1876413  5.2626276  5.3365673  5.4130046
## track.duration_ms  .          .          .          .          .        
## C                  3.1974137  3.2445367  3.2915129  3.3358204  3.3803202
## `C#|Db`            4.3130740  4.3823690  4.4508342  4.5160727  4.5833695
## D                  .          .          .          .          .        
## `D#|Eb`            .          .          .          .          .        
## E                 -3.1012530 -3.1483983 -3.1973038 -3.2419654 -3.2895479
## F                  .          .          .          .          .        
## `F#|Gb`           -6.5217424 -6.6320557 -6.7394787 -6.8376021 -6.9424966
## G                  .          .          .          .          .        
## `G#|Ab`            1.4235163  1.4488528  1.4727438  1.4983264  1.5248438
## A                 -3.7680854 -3.8323081 -3.8965278 -3.9577195 -4.0224741
## `A#|Bb`           -1.4633277 -1.5197540 -1.5755316 -1.6306939 -1.6887907
## B                  0.8252244  0.8462232  0.8683829  0.8870499  0.9063108
## c01                .          .          .          .          .        
## c02                .          .          .          .          .        
## c03                0.4032407  0.3807653  0.3606061  0.3452282  0.3302589
## c04                0.7302348  0.7520694  0.7750307  0.7982901  0.8202862
## c05                .          .          .          .          .        
## c06                0.7625148  0.7887317  0.8116162  0.8374007  0.8643220
## c07                .          .          .          .          .        
## c08                .          .          .          .          .        
## c09                .          .          .          .          .        
## c10                4.1678374  4.2475322  4.3282057  4.4055331  4.4850832
## c11                1.9610262  2.0149069  2.0683690  2.1178771  2.1689756
## c12               -1.4861480 -1.5162057 -1.5460974 -1.5742055 -1.6028294
##                                                                         
##                   -2.6603752 -2.6923079 -2.7300485 -2.7631070 -2.7977647
## danceability      -5.4166219 -5.5117901 -5.6164991 -5.7157407 -5.8167818
## energy             .          .          .          .          .        
## loudness          -3.6409582 -3.6688228 -3.6980365 -3.7261728 -3.7549041
## speechiness        .          .          .          .          .        
## acousticness       .          .          .          .          .        
## instrumentalness   .          .          .          .          .        
## liveness           0.2958432  0.3027335  0.3140011  0.3199414  0.3256103
## valence            6.0689131  6.1520394  6.2441550  6.3311109  6.4197844
## tempo              5.4906930  5.5649291  5.6461749  5.7217239  5.7990389
## track.duration_ms  .          .          .          .          .        
## C                  3.4295779  3.4751928  3.5203965  3.5665737  3.6126645
## `C#|Db`            4.6502857  4.7126046  4.7814685  4.8447496  4.9087526
## D                  .          .          .          .          .        
## `D#|Eb`            .          .          .          .          .        
## E                 -3.3426517 -3.3900468 -3.4406251 -3.4910717 -3.5431334
## F                  .          .          .          .          .        
## `F#|Gb`           -7.0557181 -7.1526363 -7.2609937 -7.3647689 -7.4707681
## G                  .          .          .          .          .        
## `G#|Ab`            1.5478266  1.5721050  1.5973187  1.6223533  1.6469797
## A                 -4.0886947 -4.1485841 -4.2164425 -4.2793124 -4.3436993
## `A#|Bb`           -1.7451987 -1.7990320 -1.8602616 -1.9164861 -1.9732924
## B                  0.9295841  0.9498219  0.9707887  0.9911637  1.0121170
## c01                .          .          .          .          .        
## c02                .          .          .          .          .        
## c03                0.3080063  0.2912278  0.2790216  0.2614810  0.2447071
## c04                0.8392245  0.8605729  0.8827730  0.9029806  0.9227314
## c05                .          .          .          .          .        
## c06                0.8857747  0.9072691  0.9321931  0.9542940  0.9758347
## c07                .          .          .          .          .        
## c08                .          .          .          .          .        
## c09                .          .          .          .          .        
## c10                4.5677848  4.6444997  4.7280505  4.8059204  4.8852048
## c11                2.2237701  2.2727396  2.3235671  2.3736191  2.4241474
## c12               -1.6327654 -1.6604718 -1.6894904 -1.7174886 -1.7458542
##                                                              
##                   -2.8328700 -2.8710834 -2.9018200 -2.9371263
## danceability      -5.9179807 -6.0211373 -6.1160200 -6.2180549
## energy             .          .          .          .        
## loudness          -3.7840401 -3.8156883 -3.8443002 -3.8774900
## speechiness        .          .          .          .        
## acousticness       .          .          .          .        
## instrumentalness   .          .          .          .        
## liveness           0.3306230  0.3361743  0.3371215  0.3375255
## valence            6.5088706  6.5956605  6.6811546  6.7648682
## tempo              5.8769447  5.9583268  6.0316011  6.1102633
## track.duration_ms  .          .          .          .        
## C                  3.6589296  3.7054386  3.7501171  3.7948604
## `C#|Db`            4.9724586  5.0369822  5.0985166  5.1603019
## D                  .          .          .          .        
## `D#|Eb`            .          .          .          .        
## E                 -3.5961992 -3.6495427 -3.7019933 -3.7561853
## F                  .          .          .          .        
## `F#|Gb`           -7.5772820 -7.6837760 -7.7867198 -7.8926792
## G                  .          .          .          .        
## `G#|Ab`            1.6712802  1.6953923  1.7187757  1.7427314
## A                 -4.4086612 -4.4726202 -4.5340558 -4.5955135
## `A#|Bb`           -2.0301123 -2.0875037 -2.1425876 -2.1961746
## B                  1.0333656  1.0538354  1.0754500  1.0932293
## c01                .          .          .          .        
## c02                .          .          .          .        
## c03                0.2282648  0.2131412  0.1952405  0.1784276
## c04                0.9422120  0.9634383  0.9821827  1.0016608
## c05                .          .          .          .        
## c06                0.9963304  1.0165622  1.0348223  1.0542366
## c07                .          .          .          .        
## c08                .          .          .          .        
## c09                .          .          .          .        
## c10                4.9648624  5.0459009  5.1211754  5.1995347
## c11                2.4745401  2.5248661  2.5749482  2.6247315
## c12               -1.7742457 -1.8027372 -1.8301137 -1.8575120
## 
## $`Indie Pop`
## 35 x 95 sparse Matrix of class "dgCMatrix"</code></pre>
<pre><code>##    [[ suppressing 95 column names 's0', 's1', 's2' ... ]]</code></pre>
<pre><code>##                                                                      
##                   -4.345482e-16 -0.001186799 -0.004119316 -0.00806751
## danceability       .             .            .            .         
## energy             .             .            .            .         
## loudness           .             .            .            .         
## speechiness        .             .            .            .         
## acousticness       .             0.106976722  0.202321227  0.28792239
## instrumentalness   .             .            .            .         
## liveness           .             .            .            .         
## valence            .             .            .            .         
## tempo              .             .            .            .         
## track.duration_ms  .             .            .            .         
## C                  .             .            .            .         
## `C#|Db`            .             .            .            .         
## D                  .             .            .            .         
## `D#|Eb`            .             .            .            .         
## E                  .             .            .            .         
## F                  .             .            .            .         
## `F#|Gb`            .             .            .            .         
## G                  .             .            .            .         
## `G#|Ab`            .             .            .            .         
## A                  .             .            .            .         
## `A#|Bb`            .             .            .            .         
## B                  .             .            .            .         
## c01                .             .            .            .         
## c02                .             .            .            .         
## c03                .             .            .            .         
## c04                .             .            .            .         
## c05                .             .            .            .         
## c06                .             .            .            .         
## c07                .             .            .            .         
## c08                .             .            .            .         
## c09                .             .            .            .         
## c10                .             .            .            .         
## c11                .             .            .            .         
## c12                .             .            .            .         
##                                                                              
##                   -0.01206438 -0.01575639 -0.01920541 -0.02245299 -0.02615989
## danceability       .           .           .           .           .         
## energy             .           .           .           .           .         
## loudness           .           .           .           .           .         
## speechiness        .           .           .           .           .         
## acousticness       0.32995503  0.35548938  0.37913436  0.40120197  0.41664282
## instrumentalness   .           .           .           .           .         
## liveness           .           .           .           .           .         
## valence            .           .           .           .           .         
## tempo              .           .           .           .           .         
## track.duration_ms  .           .           .           .           .         
## C                  .           .           .           .           .         
## `C#|Db`            .           .           .           .           .         
## D                  .           .           .           .           .         
## `D#|Eb`            .           .           .           .           .         
## E                  .           .           .           .           0.02736655
## F                  .           .           .           .           .         
## `F#|Gb`            .           .           .           .           .         
## G                  .           .           .           .           .         
## `G#|Ab`            .           .           .           .           .         
## A                  .           .           .           .           .         
## `A#|Bb`            .           .           .           .           .         
## B                  .           .           .           .           .         
## c01                .           .           .           .           .         
## c02                .           .           .           .           .         
## c03                .           .           .           .           .         
## c04                .           .           .           .           .         
## c05                0.01098669  0.04556925  0.07924913  0.11214657  0.14028297
## c06                .           .           .           .           .         
## c07                .           .           .           .           .         
## c08                .           .           .           .           .         
## c09                .           .           .           .           .         
## c10                .           .           .           .           .         
## c11                .           .           .           .           .         
## c12                .           .           .           .           .         
##                                                                              
##                   -0.03036746 -0.03530887 -0.03976096 -0.04363535 -0.04692381
## danceability       .           .           .           .           .         
## energy             .           .           .           .           .         
## loudness           .           .           .           .           .         
## speechiness        .           .           .           .           .         
## acousticness       0.42643430  0.43524048  0.43805287  0.43736406  0.44078273
## instrumentalness   .           .           .           .           .         
## liveness           .           .           .           .           .         
## valence            .           .          -0.02861218 -0.07109039 -0.10883316
## tempo              .           .           .           .           .         
## track.duration_ms  .           .           .           .           .         
## C                  .           .           .           .           .         
## `C#|Db`            .           .           .           .           .         
## D                  .           .           .           .           .         
## `D#|Eb`            .           .           .           .           .         
## E                  0.06590351  0.09732837  0.11926079  0.13589773  0.15427808
## F                  .           .           .           .           .         
## `F#|Gb`            .           .           .           .           .         
## G                  .           .           .           .           .         
## `G#|Ab`            .           .           .           .           .         
## A                  .           .           .           .           .         
## `A#|Bb`            .           .           .           .           .         
## B                  .           .           .           .           .         
## c01                .           .           .           .           .         
## c02                .           .           .           .           .         
## c03                .           .           .           .           .         
## c04                .           .           .           .           .         
## c05                0.16748601  0.19842696  0.23410378  0.27216214  0.31758659
## c06                .           .           .           .           .         
## c07                .           .           .           .           .         
## c08                .           .           .           .           .         
## c09                .           .           .           .           .         
## c10                .           .           .           .           .         
## c11                .           .           .           .           .         
## c12                .           .           .           .           .         
##                                                                               
##                   -0.04965495 -0.05336839 -0.05673124 -0.05911963 -0.060288878
## danceability       .           .           .           .           .          
## energy             .           .           .           .           .          
## loudness           .           .           .           .           .          
## speechiness        .           .           .           .           .          
## acousticness       0.45269577  0.46234487  0.47620064  0.48963866  0.493822026
## instrumentalness   .           .           .           .           .          
## liveness           .           .           .           .           .          
## valence           -0.14475953 -0.17941772 -0.21121708 -0.24284445 -0.270443747
## tempo              .           .           .           .           .          
## track.duration_ms  .           .           .           .           .          
## C                  .           .           .           .           .          
## `C#|Db`            .           .          -0.02617100 -0.06372104 -0.101443673
## D                  .           .           .           .           .          
## `D#|Eb`            .           .           .           .           .          
## E                  0.17077251  0.17493966  0.17752441  0.17954066  0.185553976
## F                  0.02320604  0.05181200  0.07759360  0.10077044  0.121159504
## `F#|Gb`            .           .           .           .           .          
## G                  .           .           .           .           .          
## `G#|Ab`            .           .           .           .           .          
## A                  .           .           .           .           .          
## `A#|Bb`            .          -0.02215518 -0.01661129 -0.01150551 -0.006871552
## B                  .           .           .           .           .          
## c01                .           .           .           .           .          
## c02                .           .           .           .           .          
## c03                .           .           .           .           .          
## c04                .           .           .           .           .          
## c05                0.36973508  0.42274569  0.46689642  0.51111771  0.564278450
## c06                .           .           .           .           .          
## c07                .           .           .           .          -0.005311030
## c08                .           .           .           .           .          
## c09                .           .           .           .           .          
## c10                .           .           .           .           .          
## c11                .           .           .           .           .          
## c12                .           .           .           .           .          
##                                                                               
##                   -0.059526807 -0.05737591 -0.05462682 -0.05284823 -0.05190673
## danceability       .            .           .           .           .         
## energy             .            .           .           .           .         
## loudness           .            .           .           0.01983181  0.06014407
## speechiness        .            .           .           .           .         
## acousticness       0.474020326  0.45502951  0.43512536  0.42070786  0.41533319
## instrumentalness   .            .           .           .           .         
## liveness           .            .           .           .           .         
## valence           -0.292716458 -0.29509424 -0.29740341 -0.30929520 -0.32607092
## tempo              .            .           .           .           .         
## track.duration_ms  .            .           .           .           .         
## C                  .            .           .           .           .         
## `C#|Db`           -0.135974814 -0.17204991 -0.20916916 -0.24763532 -0.28926087
## D                  .            .           .           .           .         
## `D#|Eb`            .            .           .           .           .         
## E                  0.189323712  0.19173827  0.19290493  0.19402570  0.19831606
## F                  0.139095103  0.15442099  0.16740012  0.18310661  0.19833977
## `F#|Gb`            .            .           .           .           .         
## G                  .            .           .           .           .         
## `G#|Ab`            .            .           .           .           .         
## A                  .            .           .           .           .         
## `A#|Bb`           -0.001385891  .           .           .           .         
## B                  .            .           .           .           .         
## c01                .            .           .           .           .         
## c02                .            .           .           .           .         
## c03                .            .           .           .           .         
## c04                .            .           .           .           .         
## c05                0.635579529  0.70953133  0.78407766  0.84966272  0.91349304
## c06                .            .           .           .           .         
## c07               -0.043249148 -0.08115526 -0.11555916 -0.14597688 -0.17270067
## c08                .            .           .           .           .         
## c09                .            .           .           .           .         
## c10                .            .           .           .           .         
## c11                .            .           .           .           .         
## c12                .            .           .           0.01450943  0.02810935
##                                                                              
##                   -0.05167841 -0.05095218 -0.05200233 -0.05782679 -0.06456387
## danceability       .           .           .           .           .         
## energy             .           .           .           .           .         
## loudness           0.09170698  0.11194766  0.12012985  0.12086541  0.11755105
## speechiness        .           .           .           .           .         
## acousticness       0.40379057  0.38509445  0.34829528  0.28906270  0.22010755
## instrumentalness   .           .           .           .           .         
## liveness           .           .           .           .           .         
## valence           -0.34865701 -0.37580313 -0.40199062 -0.44535712 -0.49802910
## tempo              .           .          -0.03144117 -0.07151299 -0.11523545
## track.duration_ms  .           .           .          -0.05236663 -0.11649748
## C                  .           .           .           .           .         
## `C#|Db`           -0.33172025 -0.37628711 -0.42374480 -0.46888026 -0.51594960
## D                  .           .           .           .           .         
## `D#|Eb`            .           .           .           .           .         
## E                  0.19839562  0.19552556  0.19615629  0.19273893  0.18672677
## F                  0.21612951  0.23606280  0.26124289  0.29074855  0.32483349
## `F#|Gb`            .           .           .           .           .         
## G                  .           .           .           .           .         
## `G#|Ab`            .           .           .           .           .         
## A                  .           .           .           .           .         
## `A#|Bb`            .           .           .           .           .         
## B                  .           .           .           .           .         
## c01                .           .           .           .           .         
## c02                .           .           .           .           .         
## c03                .           .           .           .           .         
## c04                .           .           .           .           .         
## c05                0.98328965  1.05138386  1.11883122  1.19827489  1.27548626
## c06                .           .           .           .           .         
## c07               -0.20260661 -0.23179901 -0.26641371 -0.29436387 -0.31725743
## c08                .           .           .           .           .         
## c09                .           .           .           .           .         
## c10                .           .           .           .           .         
## c11                .           .           .           .           .         
## c12                0.04215155  0.05575912  0.08193991  0.11596343  0.15385487
##                                                                      
##                   -0.07115986 -0.080283683 -0.0881641965 -0.094462466
## danceability       .           .            .             .          
## energy             .           .            .             .          
## loudness           0.11373791  0.108781729  0.1153980914  0.125763368
## speechiness        .           .            .             .          
## acousticness       0.14109151  0.042939127  .             .          
## instrumentalness   .           .            .             .          
## liveness           .           .            .             .          
## valence           -0.55710878 -0.619483976 -0.6761434815 -0.735402866
## tempo             -0.15703411 -0.191584392 -0.2211697860 -0.251159505
## track.duration_ms -0.18292401 -0.248214875 -0.3054090699 -0.359013690
## C                  .           .            .             .          
## `C#|Db`           -0.56798774 -0.635570489 -0.7132518334 -0.795531583
## D                  .           .            .             .          
## `D#|Eb`            .           .            .             .          
## E                  0.17511450  0.141587725  0.1116982199  0.092328212
## F                  0.36328743  0.400518966  0.4324129411  0.461110087
## `F#|Gb`            .           .            .             .          
## G                  .           .            .             .          
## `G#|Ab`            .          -0.003312478 -0.0009017172  .          
## A                  .           .            .             .          
## `A#|Bb`            .           .            .             .          
## B                  .           .            .             .          
## c01                .           .            .             .          
## c02                .          -0.018680710 -0.0215499783 -0.003747642
## c03                .           .            .             .          
## c04                .           .            .             .          
## c05                1.35652997  1.445092731  1.5205329647  1.587499151
## c06                .           .            .             .          
## c07               -0.34394223 -0.379098292 -0.3864300079 -0.377996112
## c08                .           .            .             0.013106309
## c09                .           .            .             .          
## c10                .           .            .             .          
## c11                .           .            .             .          
## c12                0.19683654  0.250023724  0.2947088989  0.329892423
##                                                                               
##                   -0.10121323 -0.10813868 -0.10298287 -0.094221618 -0.09019793
## danceability       .           .           .           .            .         
## energy             .           .           .           .            .         
## loudness           0.13586319  0.13293464  0.08399312  0.033763356  .         
## speechiness        .           .           .           .            .         
## acousticness       .           .           .           .            .         
## instrumentalness   .           .           .           .            .         
## liveness           .           .           .           .            .         
## valence           -0.79399850 -0.86008428 -0.91760181 -0.975031858 -1.03696232
## tempo             -0.27855628 -0.30669552 -0.35296135 -0.409590982 -0.46612907
## track.duration_ms -0.40731035 -0.45956239 -0.49829514 -0.541881151 -0.58739952
## C                  .           .           .           .            .         
## `C#|Db`           -0.87979085 -0.96975908 -1.07563408 -1.168863641 -1.25762702
## D                  .           .           .           .            .         
## `D#|Eb`            .           .           .           .            .         
## E                  0.08098296  0.07076653  0.03361643  0.001078689  .         
## F                  0.48690090  0.50994430  0.50595172  0.506028875  0.50074423
## `F#|Gb`            .           .           .           .            .         
## G                  .           .          -0.09124199 -0.191198536 -0.28121124
## `G#|Ab`            .           .           .           .            .         
## A                  .           .           .           .            .         
## `A#|Bb`            .           .           .           .            .         
## B                  .           .           .           .            .         
## c01                .           .           .           .            .         
## c02                .           .           .           .            .         
## c03                .           .           .           .            .         
## c04                .           .           .           .            .         
## c05                1.65169326  1.72471366  1.81141246  1.896292252  1.98553501
## c06                .           .           .           .            .         
## c07               -0.36970998 -0.36454381 -0.37174849 -0.378557302 -0.38063669
## c08                0.03555964  0.06407584  0.11027270  0.152934199  0.19266075
## c09                .           .           .           .            .         
## c10                .           .           .           .            .         
## c11                .           .           .           .            .         
## c12                0.36823450  0.40945807  0.45964823  0.517002946  0.57776893
##                                                                              
##                   -0.08858132 -0.08466498 -0.08006780 -0.07447580 -0.06780645
## danceability       .           .           .           .           .         
## energy             .           .           .           .           .         
## loudness           .           .           .           .           .         
## speechiness        .           .           .           .           .         
## acousticness       .           .           .           .           .         
## instrumentalness   .           .           .           .           .         
## liveness           .           .           .           .           .         
## valence           -1.09965137 -1.16794098 -1.23639039 -1.30360145 -1.37207404
## tempo             -0.51885145 -0.57191307 -0.62138040 -0.66609696 -0.70915969
## track.duration_ms -0.64021611 -0.69736551 -0.75363477 -0.80888149 -0.86591850
## C                  .           .           .           .           .         
## `C#|Db`           -1.34526674 -1.42734747 -1.51407914 -1.60557458 -1.69741446
## D                  .           .           .           .           .         
## `D#|Eb`            .           .           .           .           .         
## E                  .           .           .           .           .         
## F                  0.50434944  0.51859882  0.52878685  0.53477441  0.54007046
## `F#|Gb`            .           .           .           .           .         
## G                 -0.36058066 -0.43506426 -0.51152987 -0.58970789 -0.66896334
## `G#|Ab`            .           .           .           .           .         
## A                  .           .           .           .           .         
## `A#|Bb`            .           .           .           .           .         
## B                  .           .           .           .           .         
## c01                .           .           .           .           .         
## c02                .           .           .           .           .         
## c03                .           .          -0.01749481 -0.04936185 -0.08277554
## c04                .           .           .           .           .         
## c05                2.07861913  2.16921484  2.26787281  2.37536747  2.48866630
## c06                .           .           .           .           .         
## c07               -0.37776713 -0.37591640 -0.37267506 -0.36770154 -0.36321339
## c08                0.20991001  0.23007268  0.25469742  0.27957158  0.30180291
## c09                .           .           .           .           .         
## c10                .           .           .           .           .         
## c11                .           .           .           .           .         
## c12                0.64235845  0.70939324  0.77306597  0.83230777  0.89140858
##                                                                              
##                   -0.06013471 -0.05176019 -0.04435023 -0.03618026 -0.02454125
## danceability       .           .           .           .           .         
## energy             .           .           .           .           .         
## loudness           .           .           .           .           .         
## speechiness        .           .           .           .           .         
## acousticness       .           .           .           .           .         
## instrumentalness   .           .           .           .           .         
## liveness           .           .           .           .           .         
## valence           -1.44047345 -1.51006342 -1.59403570 -1.68633015 -1.77133200
## tempo             -0.74480908 -0.77168638 -0.80195569 -0.83863847 -0.86039235
## track.duration_ms -0.92366714 -0.98122796 -1.04996030 -1.12641076 -1.18788913
## C                  .           .           .           .           .         
## `C#|Db`           -1.78798026 -1.87635276 -1.96053387 -2.03828613 -2.11652296
## D                  .           .           .           .           .         
## `D#|Eb`            .           .           .           .           .         
## E                  .           .           .           .           .         
## F                  0.54202396  0.54109335  0.55055637  0.57038585  0.57962463
## `F#|Gb`            .           .           .           .           .         
## G                 -0.74703848 -0.82266716 -0.89458536 -0.96143268 -1.01118468
## `G#|Ab`            .           .           .           .           .         
## A                  .           .           0.02538385  0.06820331  0.10193037
## `A#|Bb`            .           .           .           .           .         
## B                  .           .           .           .           .         
## c01                .           .           .           .           .         
## c02                .           .           .           .           .         
## c03               -0.11933375 -0.16047661 -0.21271042 -0.26925444 -0.34352753
## c04                .           .           .           .           .         
## c05                2.59850623  2.70166792  2.80232429  2.89715087  2.98907248
## c06                .           .           .           .           .         
## c07               -0.35840101 -0.35501123 -0.35003098 -0.34834081 -0.35352457
## c08                0.31792013  0.33320321  0.34829348  0.37552307  0.43801808
## c09                .           .           .           .           .         
## c10                .           .           .           .           .         
## c11                .           .           .           .           .         
## c12                0.94568717  0.99339610  1.04406133  1.09731071  1.13277371
##                                                                     
##                   -0.01254139 -8.641516e-05  0.01819328  0.040095011
## danceability       .           .             .           .          
## energy             .           .             .           .          
## loudness           .           .             .           .          
## speechiness        .           .             .           .          
## acousticness       .           .             .           .          
## instrumentalness   .           .             .           .          
## liveness           .           .             .           .          
## valence           -1.85442952 -1.937886e+00 -2.02366103 -2.106800757
## tempo             -0.87737287 -8.933955e-01 -0.91870592 -0.951076081
## track.duration_ms -1.25052565 -1.313414e+00 -1.37117819 -1.427847497
## C                  .           .             .           .          
## `C#|Db`           -2.19936880 -2.282289e+00 -2.36119074 -2.433334046
## D                  .           .             .           .          
## `D#|Eb`            .           .             .           .          
## E                  .           .             .           .          
## F                  0.58524682  5.897886e-01  0.59999886  0.610918802
## `F#|Gb`            .           .             .           0.001636758
## G                 -1.06195106 -1.113823e+00 -1.16918092 -1.226160375
## `G#|Ab`            .           .             .           .          
## A                  0.13397423  1.652318e-01  0.19274349  0.214257003
## `A#|Bb`            .           .             .           .          
## B                  .           .             .           .          
## c01                .           .             .           .          
## c02                .           .             .           .          
## c03               -0.42580879 -5.090373e-01 -0.58712557 -0.659042108
## c04                .           .             .           .          
## c05                3.08646849  3.185739e+00  3.28187817  3.381871446
## c06                .           .             .           .          
## c07               -0.35991370 -3.681581e-01 -0.38164636 -0.396308531
## c08                0.48978671  5.415825e-01  0.61735580  0.692455613
## c09                .           .             .           .          
## c10                .           .             .           .          
## c11                .           .             .           .          
## c12                1.16307771  1.191864e+00  1.22335294  1.256800677
##                                                                              
##                    0.057993010  0.07411950  0.08815115  0.10071631  0.1128520
## danceability       .            .           .           .           .        
## energy             .            .           .           .           .        
## loudness           .            .           .           .           .        
## speechiness        .            .           .           .           .        
## acousticness       .            .           .           .           .        
## instrumentalness   .            .           .           .           .        
## liveness           .            .           .           .           .        
## valence           -2.195756574 -2.28117407 -2.36949605 -2.46074913 -2.5503597
## tempo             -0.988459602 -1.02726134 -1.06599011 -1.10519948 -1.1436040
## track.duration_ms -1.486352570 -1.54841770 -1.61072962 -1.67560104 -1.7396639
## C                  .            .           .           .           .        
## `C#|Db`           -2.498405404 -2.56942822 -2.64293495 -2.72015932 -2.7965985
## D                  .            .           .           .           .        
## `D#|Eb`            .            .           .           .           .        
## E                  .            .           .           .           .        
## F                  0.606763258  0.59616780  0.58409168  0.56957527  0.5533971
## `F#|Gb`            0.035128500  0.06751118  0.10000375  0.13185215  0.1638431
## G                 -1.292734212 -1.35744298 -1.41742640 -1.47562728 -1.5322171
## `G#|Ab`           -0.003602807 -0.02765387 -0.05792352 -0.09133056 -0.1248824
## A                  0.254100907  0.29186750  0.33258431  0.37428142  0.4148437
## `A#|Bb`            .            .           .           .           .        
## B                  .            .           .           .           .        
## c01                .            .           .           .           .        
## c02                .            .           .           .           .        
## c03               -0.702827882 -0.74610287 -0.78716812 -0.82855825 -0.8665794
## c04                .            .           .           .           .        
## c05                3.486498164  3.59545052  3.70454524  3.81440502  3.9224982
## c06                .            .           .           .           .        
## c07               -0.411105269 -0.42410326 -0.43805945 -0.45251082 -0.4668563
## c08                0.757185227  0.81940980  0.88360867  0.94683974  1.0075108
## c09                .            .           .           .           .        
## c10                .            .           .           .           .        
## c11                .            .           .           .           .        
## c12                1.295605091  1.33284600  1.37262359  1.41485665  1.4581840
##                                                                         
##                    0.1240699  0.1342737  0.1420503  0.1495288  0.1568124
## danceability       .          .          .          .          .        
## energy             .          .          .          .          .        
## loudness           .          .          .          .          .        
## speechiness        .          .          .          .          .        
## acousticness       .          .          .          .          .        
## instrumentalness   .          .          .          .          .        
## liveness           .          .          .          .          .        
## valence           -2.6400444 -2.7311125 -2.8251094 -2.9207502 -3.0156780
## tempo             -1.1809018 -1.2193120 -1.2609207 -1.3022521 -1.3439843
## track.duration_ms -1.8015091 -1.8636258 -1.9281861 -1.9916586 -2.0523738
## C                  .          .          .          .          .        
## `C#|Db`           -2.8718670 -2.9487462 -3.0334644 -3.1179606 -3.2025039
## D                  .          .          .          .          .        
## `D#|Eb`            .          .          .          .          .        
## E                  .          .          .          .          .        
## F                  0.5357639  0.5163713  0.4921459  0.4653258  0.4362256
## `F#|Gb`            0.1967634  0.2293452  0.2590038  0.2910177  0.3230652
## G                 -1.5874901 -1.6428945 -1.7018991 -1.7613921 -1.8224719
## `G#|Ab`           -0.1597304 -0.1951692 -0.2293463 -0.2657904 -0.3026474
## A                  0.4554837  0.4955213  0.5337267  0.5748640  0.6142968
## `A#|Bb`            .          .          .          .          .        
## B                  .          .          .          .          .        
## c01                .          .          .          .          .        
## c02                .          .          .          .          .        
## c03               -0.9023222 -0.9383362 -0.9798163 -1.0215126 -1.0630749
## c04                .          .          .          .          .        
## c05                4.0302777  4.1399839  4.2569791  4.3708775  4.4844404
## c06                .          .          .          .          .        
## c07               -0.4818070 -0.4984997 -0.5200784 -0.5487346 -0.5807390
## c08                1.0691077  1.1315506  1.1943494  1.2656282  1.3374037
## c09                .          .          .          .          .        
## c10                .          .          .          .          .        
## c11                .          .          .          .          .        
## c12                1.5015065  1.5449500  1.5876205  1.6273506  1.6653555
##                                                                               
##                    0.164642652  0.16884414  0.17196150  0.17466154  0.17735561
## danceability       .            .           .           .           .         
## energy             0.003399925  0.01627955  0.03342394  0.05443975  0.07775509
## loudness           .            .           .           .           .         
## speechiness        .            .           .           .           .         
## acousticness       .            .           .           .           .         
## instrumentalness   .            .           .           .           .         
## liveness           .            .           .           .           .         
## valence           -3.107015088 -3.20663059 -3.31125888 -3.41430110 -3.51625614
## tempo             -1.385526287 -1.42886392 -1.46913558 -1.51136884 -1.55356191
## track.duration_ms -2.107046561 -2.17023987 -2.23517555 -2.29708154 -2.35713629
## C                  .            .           .           .           .         
## `C#|Db`           -3.285873112 -3.37839872 -3.46871626 -3.55862463 -3.64823982
## D                  .            .           .           .           .         
## `D#|Eb`            .            .           .           .           .         
## E                  .            .           .           .           .         
## F                  0.405975166  0.37413289  0.34583349  0.31559216  0.28416758
## `F#|Gb`            0.353184496  0.37992607  0.40864888  0.43515260  0.46107907
## G                 -1.885599231 -1.94932975 -2.00627179 -2.06449945 -2.12394884
## `G#|Ab`           -0.338715530 -0.37508490 -0.41580293 -0.45443894 -0.49209468
## A                  0.648904113  0.68535531  0.73081778  0.77131846  0.80991305
## `A#|Bb`            .            .           .           .           .         
## B                  .            .           .           .           .         
## c01                .            .           .           .           .         
## c02                .            .           .           .           .         
## c03               -1.103016729 -1.15606158 -1.21081462 -1.26518721 -1.31906326
## c04                .            .           .           .           .         
## c05                4.597027784  4.72008035  4.83751533  4.95530100  5.07278948
## c06                .            .           .           .           .         
## c07               -0.613603672 -0.64916801 -0.68687007 -0.72386003 -0.76011098
## c08                1.405895439  1.47384321  1.55226177  1.62476628  1.69373268
## c09                .            .           .           .           .         
## c10                .            .           .           .           .         
## c11                .            .           .           .           .         
## c12                1.701574948  1.73615995  1.76784324  1.80047475  1.83286940
##                                                                         
##                    0.1795300  0.1815354  0.1831610  0.1848622  0.1859859
## danceability       .          .          .          .          .        
## energy             0.1028966  0.1313749  0.1609387  0.1910158  0.2219642
## loudness           .          .          .          .          .        
## speechiness        .          .          .          .          .        
## acousticness       .          .          .          .          .        
## instrumentalness   .          .          .          .          .        
## liveness           .          .          .          .          .        
## valence           -3.6192636 -3.7224949 -3.8261064 -3.9297495 -4.0337464
## tempo             -1.5958758 -1.6365284 -1.6778131 -1.7160208 -1.7583175
## track.duration_ms -2.4162714 -2.4749254 -2.5328789 -2.5872554 -2.6451754
## C                  .          .          .          .          .        
## `C#|Db`           -3.7388814 -3.8272769 -3.9167694 -4.0014377 -4.0925852
## D                  .          .          .          .          .        
## `D#|Eb`            .          .          .          .          .        
## E                  .          .          .          .          .        
## F                  0.2519877  0.2210208  0.1888622  0.1595080  0.1254789
## `F#|Gb`            0.4865579  0.5125824  0.5383101  0.5652114  0.5904093
## G                 -2.1839278 -2.2419318 -2.3001430 -2.3549548 -2.4134144
## `G#|Ab`           -0.5304760 -0.5692832 -0.6086875 -0.6504606 -0.6906478
## A                  0.8484819  0.8886422  0.9276592  0.9709067  1.0079616
## `A#|Bb`            .          .          .          .          .        
## B                  .          .          .          .          .        
## c01                .          .          .          .          .        
## c02                .          .          .          .          .        
## c03               -1.3735044 -1.4276056 -1.4811736 -1.5344770 -1.5878028
## c04                .          .          .          .          .        
## c05                5.1910220  5.3069870  5.4232858  5.5341833  5.6509924
## c06                .          .          .          .          .        
## c07               -0.7961960 -0.8314784 -0.8667476 -0.9000017 -0.9350721
## c08                1.7625372  1.8324886  1.9006857  1.9699764  2.0343612
## c09                .          .          .          .          .        
## c10                .          .          .          .          .        
## c11                .          .          .          .          .        
## c12                1.8653117  1.8966623  1.9289376  1.9590721  1.9930423
##                                                                              
##                    0.18817172  0.18887602  0.18879050  0.188778033  0.1904419
## danceability       .           .           .           .            .        
## energy             0.24970305  0.28263064  0.32058924  0.352278827  0.3888703
## loudness           .           .           .           .            .        
## speechiness        .           .           .           .            .        
## acousticness       .           .           .           .            .        
## instrumentalness   .           .           .           .            .        
## liveness           .           .           .           .            .        
## valence           -4.13587966 -4.24046893 -4.33889645 -4.452748837 -4.5470958
## tempo             -1.79396042 -1.83328489 -1.86664658 -1.915942528 -1.9449203
## track.duration_ms -2.69840892 -2.75445874 -2.80521691 -2.868038961 -2.9156748
## C                  .           .           .           .            .        
## `C#|Db`           -4.17384493 -4.25901382 -4.33104917 -4.432603353 -4.4954461
## D                  .           .           .           .            .        
## `D#|Eb`            .           .           .           .            .        
## E                  .           .           .           .            .        
## F                  0.09772382  0.06794958  0.04723174  0.006613699  .        
## `F#|Gb`            0.61836940  0.64504333  0.67603287  0.698651414  0.7277898
## G                 -2.46609235 -2.51967643 -2.56331004 -2.623012230 -2.6594067
## `G#|Ab`           -0.73414105 -0.77619697 -0.81314531 -0.859899185 -0.8916284
## A                  1.05390961  1.09547581  1.14627409  1.175497019  1.2330962
## `A#|Bb`            .           .           .           .            .        
## B                  .           .           .           .            .        
## c01                .           .           .           .            .        
## c02                .           .           .           .            .        
## c03               -1.64046848 -1.69244296 -1.73885979 -1.793338693 -1.8398532
## c04                .           .           .           .            .        
## c05                5.75752110  5.86897367  5.96675415  6.095327380  6.1804011
## c06                .           .           .           .            .        
## c07               -0.96804005 -1.00106645 -1.02760805 -1.066142408 -1.0895332
## c08                2.10669958  2.17400799  2.25112143  2.311586366  2.3930939
## c09                .           .           .           .            .        
## c10                .           .           .           .            .        
## c11                .           .           .           .            .        
## c12                2.02136922  2.05403008  2.07807006  2.122573105  2.1414889
##                                                                         
##                    0.1932874  0.1926507  0.1933202  0.1940098  0.1961031
## danceability       .          .          .          .          .        
## energy             0.4280584  0.4734739  0.5167927  0.5599078  0.5980942
## loudness           .          .          .          .          .        
## speechiness        .          .          .          .          .        
## acousticness       .          .          .          .          .        
## instrumentalness   .          .          .          .          .        
## liveness           .          .          .          .          .        
## valence           -4.6606980 -4.7696533 -4.8793226 -4.9887351 -5.0919165
## tempo             -1.9819411 -2.0243480 -2.0668236 -2.1098110 -2.1462956
## track.duration_ms -2.9816184 -3.0447673 -3.1084892 -3.1723945 -3.2332014
## C                  .          .          .          .          .        
## `C#|Db`           -4.5668298 -4.6381905 -4.7096354 -4.7813018 -4.8478585
## D                  .          .          .          .          .        
## `D#|Eb`            .          .          .          .          .        
## E                  .          .          .          .          .        
## F                  .          .          .          .          .        
## `F#|Gb`            0.7535081  0.7756083  0.7988264  0.8218748  0.8480487
## G                 -2.6920653 -2.7230730 -2.7546005 -2.7859899 -2.8163090
## `G#|Ab`           -0.9273008 -0.9583050 -0.9907391 -1.0228896 -1.0553554
## A                  1.2854012  1.3312564  1.3780353  1.4241936  1.4763629
## `A#|Bb`            .          .          .          .          .        
## B                  .          .          .          .          .        
## c01                .          .          .          .          .        
## c02                .          .          .          .          .        
## c03               -1.8924797 -1.9396553 -1.9885847 -2.0372833 -2.0850694
## c04                .          .          .          .          .        
## c05                6.2814992  6.3825073  6.4828218  6.5831310  6.6740015
## c06                .          .          .          .          .        
## c07               -1.1211350 -1.1484767 -1.1750214 -1.2011153 -1.2252021
## c08                2.4762897  2.5438590  2.6118995  2.6781554  2.7518056
## c09                .          .          .          .          .        
## c10                .          .          .          .          .        
## c11                .          .          .          .          .        
## c12                2.1765598  2.2126115  2.2504113  2.2891839  2.3218250
##                                                                         
##                    0.1936743  0.1935934  0.1931882  0.1927438  0.1898547
## danceability       .          .          .          .          .        
## energy             0.6441377  0.6864847  0.7246376  0.7653321  0.8108117
## loudness           .          .          .          .          .        
## speechiness        .          .          .          .          .        
## acousticness       .          .          .          .          .        
## instrumentalness   .          .          .          .          .        
## liveness           .          .          .          .          .        
## valence           -5.2076988 -5.3168746 -5.4198749 -5.5277722 -5.6464157
## tempo             -2.1915644 -2.2343803 -2.2715389 -2.3118334 -2.3594330
## track.duration_ms -3.3008479 -3.3630399 -3.4230799 -3.4881065 -3.5573576
## C                  .          .          .          .          .        
## `C#|Db`           -4.9253713 -4.9978133 -5.0667658 -5.1394331 -5.2201087
## D                  .          .          .          .          .        
## `D#|Eb`            .          .          .          .          .        
## E                  .          .          .          .          .        
## F                  .          .          .          .          .        
## `F#|Gb`            0.8687419  0.8896852  0.9145979  0.9385281  0.9576416
## G                 -2.8449328 -2.8748556 -2.9031215 -2.9307310 -2.9594821
## `G#|Ab`           -1.0909974 -1.1240927 -1.1562874 -1.1892416 -1.2249736
## A                  1.5221963  1.5668882  1.6175584  1.6661738  1.7108107
## `A#|Bb`            .          .          .          .          .        
## B                  .          .          .          .          .        
## c01                .          .          .          .          .        
## c02                .          .          .          .          .        
## c03               -2.1346971 -2.1847922 -2.2347708 -2.2829415 -2.3326090
## c04                .          .          .          .          .        
## c05                6.7795994  6.8795000  6.9720522  7.0699654  7.1786339
## c06                .          .          .          .          .        
## c07               -1.2529215 -1.2783848 -1.3031325 -1.3294077 -1.3567391
## c08                2.8160033  2.8775399  2.9483968  3.0181999  3.0790185
## c09                .          .          .          .          .        
## c10                .          .          .          .          .        
## c11                .          .          .          .          .        
## c12                2.3643189  2.4051518  2.4400752  2.4788953  2.5266976
##                                                                         
##                    0.1892074  0.1903842  0.1879481  0.1861958  0.1846377
## danceability       .          .          .          .          .        
## energy             0.8474955  0.8865346  0.9266974  0.9668483  1.0068063
## loudness           .          .          .          .          .        
## speechiness        .          .          .          .          .        
## acousticness       .          .          .          .          .        
## instrumentalness   .          .          .          .          .        
## liveness           .          .          .          .          .        
## valence           -5.7477420 -5.8548374 -5.9637077 -6.0733302 -6.1831152
## tempo             -2.3966285 -2.4369471 -2.4785839 -2.5206956 -2.5629834
## track.duration_ms -3.6162506 -3.6801232 -3.7457275 -3.8115817 -3.8773015
## C                  .          .          .          .          .        
## `C#|Db`           -5.2887071 -5.3596163 -5.4348171 -5.5105101 -5.5861187
## D                  .          .          .          .          .        
## `D#|Eb`            .          .          .          .          .        
## E                  .          .          .          .          .        
## F                  .          .          .          .          .        
## `F#|Gb`            0.9805488  1.0040766  1.0270077  1.0494566  1.0715477
## G                 -2.9871097 -3.0163882 -3.0430916 -3.0698763 -3.0967717
## `G#|Ab`           -1.2570096 -1.2894763 -1.3225397 -1.3556135 -1.3882720
## A                  1.7590876  1.8067634  1.8544899  1.9015972  1.9480099
## `A#|Bb`            .          .          .          .          .        
## B                  .          .          .          .          .        
## c01                .          .          .          .          .        
## c02                .          .          .          .          .        
## c03               -2.3830944 -2.4308310 -2.4790943 -2.5274236 -2.5753758
## c04                .          .          .          .          .        
## c05                7.2707015  7.3683549  7.4685673  7.5693683  7.6703911
## c06                .          .          .          .          .        
## c07               -1.3808697 -1.4059081 -1.4317485 -1.4576063 -1.4834313
## c08                3.1467531  3.2141445  3.2802198  3.3461268  3.4112437
## c09                .          .          .          .          .        
## c10                .          .          .          .          .        
## c11                .          .          .          .          .        
## c12                2.5633555  2.6037563  2.6455898  2.6884549  2.7319837
##                                                    
##                    0.1850782  0.18146435  0.1782904
## danceability       .          .           .        
## energy             1.0440144  1.08376923  1.1225110
## loudness           .          .           .        
## speechiness        .          .           .        
## acousticness       .          .           .        
## instrumentalness   .          .           .        
## liveness           .          .           .        
## valence           -6.2879381 -6.39759155 -6.5082596
## tempo             -2.6020056 -2.64451059 -2.6868449
## track.duration_ms -3.9402930 -4.00288619 -4.0691638
## C                  .         -0.01031634 -0.0191879
## `C#|Db`           -5.6572363 -5.73139629 -5.8079666
## D                  .          .           .        
## `D#|Eb`            .          .           .        
## E                  .          .           .        
## F                  .          .           .        
## `F#|Gb`            1.0915371  1.11287196  1.1320680
## G                 -3.1239118 -3.15099738 -3.1768287
## `G#|Ab`           -1.4209832 -1.45782368 -1.4952862
## A                  1.9930396  2.04052495  2.0890262
## `A#|Bb`            .          .           .        
## B                  .          .           .        
## c01                .          .           .        
## c02                .          .           .        
## c03               -2.6217300 -2.67011632 -2.7163083
## c04                .          .           .        
## c05                7.7652907  7.86903561  7.9693388
## c06                .          .           .        
## c07               -1.5070327 -1.53476374 -1.5602239
## c08                3.4722487  3.53703775  3.6005375
## c09                .          .           .        
## c10                .          .           .        
## c11                .          .           .        
## c12                2.7727319  2.81470209  2.8570987
## 
## $`Indie Workout`
## 35 x 95 sparse Matrix of class "dgCMatrix"</code></pre>
<pre><code>##    [[ suppressing 95 column names 's0', 's1', 's2' ... ]]</code></pre>
<pre><code>##                                                                     
##                   -3.799044e-16 0.0006006412 0.002064561 0.004010504
## danceability       .            .            .           .          
## energy             .            .            .           .          
## loudness           .            .            .           .          
## speechiness        .            .            .           .          
## acousticness       .            .            .           .          
## instrumentalness   .            .            .           .          
## liveness           .            .            .           .          
## valence            .            .            .           .          
## tempo              .            .            .           .          
## track.duration_ms  .            .            .           0.005238439
## C                  .            .            .           .          
## `C#|Db`            .            .            .           .          
## D                  .            .            .           .          
## `D#|Eb`            .            .            .           .          
## E                  .            .            .           .          
## F                  .            .            .           .          
## `F#|Gb`            .            .            .           .          
## G                  .            .            .           .          
## `G#|Ab`            .            .            .           .          
## A                  .            .            .           .          
## `A#|Bb`            .            .            .           .          
## B                  .            .            .           .          
## c01                .            .            .           .          
## c02                .            .            .           .          
## c03                .            .            .           .          
## c04                .            .            .           .          
## c05                .            .            .           .          
## c06                .            .            .           .          
## c07                .            .            .           .          
## c08                .            .            .           .          
## c09                .            .            .           .          
## c10                .            .            .           .          
## c11                .            .            .           .          
## c12                .            .            .           .          
##                                                                         
##                   0.008116585 0.01265094 0.0175280 0.02268983 0.02860149
## danceability      .           .          .         .          .         
## energy            .           .          .         .          .         
## loudness          .           .          .         .          .         
## speechiness       .           .          .         .          .         
## acousticness      .           .          .         .          .         
## instrumentalness  .           .          .         .          .         
## liveness          .           .          .         .          .         
## valence           .           .          .         .          .         
## tempo             .           .          .         .          .         
## track.duration_ms 0.085534749 0.15862995 0.2255745 0.28729694 0.34343178
## C                 .           .          .         .          .         
## `C#|Db`           .           .          .         .          .         
## D                 .           .          .         .          .         
## `D#|Eb`           .           .          .         .          .         
## E                 .           .          .         .          .         
## F                 .           .          .         .          .         
## `F#|Gb`           .           .          .         .          .         
## G                 .           .          .         .          .         
## `G#|Ab`           .           .          .         .          .         
## A                 .           .          .         .          .         
## `A#|Bb`           .           .          .         .          .         
## B                 .           .          .         .          .         
## c01               .           .          .         .          .         
## c02               .           .          .         .          .         
## c03               .           .          .         .          .         
## c04               .           .          .         .          .         
## c05               .           .          .         .          .         
## c06               .           .          .         .          .         
## c07               .           .          .         .          .         
## c08               .           .          .         .          .         
## c09               .           .          .         .          .         
## c10               .           .          .         .          .         
## c11               .           .          .         .          .         
## c12               .           .          .         .          .         
##                                                                          
##                   0.03550309 0.04308496 0.05164341 0.06119311  0.07060639
## danceability      .          .          .          .           0.01109873
## energy            .          .          .          .           .         
## loudness          .          .          .          .           .         
## speechiness       .          .          .          .           .         
## acousticness      .          .          .          .           .         
## instrumentalness  .          .          .          .           .         
## liveness          .          .          .          .           .         
## valence           .          .          .          .           .         
## tempo             .          .          .          .           .         
## track.duration_ms 0.39589693 0.44906891 0.50042865 0.54910981  0.59340087
## C                 .          .          .          .           .         
## `C#|Db`           .          .          .          .           .         
## D                 .          .          .          .           .         
## `D#|Eb`           .          .          .          .           .         
## E                 .          .          .          .           .         
## F                 .          .          .          .           .         
## `F#|Gb`           .          .          .          .           .         
## G                 .          .          .          .           .         
## `G#|Ab`           .          .          .          .           .         
## A                 .          .          .          .           .         
## `A#|Bb`           .          .          .          .           .         
## B                 .          .          .          .           .         
## c01               .          .          .          .           .         
## c02               .          .          .          .           .         
## c03               .          .          .          .           .         
## c04               .          .          .          .           .         
## c05               .          .          .          .           .         
## c06               .          .          .          .           .         
## c07               .          .          .          .           .         
## c08               .          .          .          .          -0.01039222
## c09               .          .          .          .           .         
## c10               .          .          .          .          -0.01593096
## c11               .          .          .          .           .         
## c12               .          .          .          .           .         
##                                                                              
##                    0.07922121  0.08770494  0.09551697  0.10300508  0.10994978
## danceability       0.03352840  0.05200377  0.06152097  0.07133118  0.08493181
## energy             .           .           .           .           .         
## loudness           .           .           .           .           .         
## speechiness        .           .           .           .           .         
## acousticness       .           .           .           .           .         
## instrumentalness   .           .           0.03103349  0.06722861  0.09761592
## liveness           .           .          -0.02355855 -0.05997512 -0.09698794
## valence            .           .           .           .           .         
## tempo              .           .           .           .           .         
## track.duration_ms  0.63061838  0.66993905  0.70461203  0.74284056  0.78021832
## C                  .           .           .           .          -0.01203248
## `C#|Db`            .           .           .           .           .         
## D                  .           .           .           .           .         
## `D#|Eb`            .           .           .           0.01455463  0.02712139
## E                  .           .           .           .           .         
## F                  .           .           .           .           .         
## `F#|Gb`            .           .           .           .           .         
## G                  .           .           .           .           .         
## `G#|Ab`            .           .           .           .           .         
## A                  .           .           .           .           .         
## `A#|Bb`            .           .           0.05950472  0.11440145  0.16376412
## B                  .           .           .           .           .         
## c01                .           .           .           .           .         
## c02                .           .           .           .           .         
## c03                .           .           .           .           .         
## c04                .           .           .           .           .         
## c05                .           .           .           .           .         
## c06                .           .           .           .           .         
## c07                .           .           .           .           .         
## c08               -0.04642313 -0.08075546 -0.11870486 -0.15168344 -0.18313697
## c09                .           .           .           .           .         
## c10               -0.04699751 -0.07990460 -0.12606477 -0.16961181 -0.20896617
## c11                .           .           .           .           .         
## c12                .           .           .           .           .         
##                                                                            
##                    0.1166457  0.12528901  0.134951694  0.1460732  0.1582311
## danceability       0.1067542  0.14102318  0.172507619  0.2021230  0.2317144
## energy             .          .           .            .          .        
## loudness           .          .           .            .          .        
## speechiness        .          .           .            .          .        
## acousticness       .          .           .            .          .        
## instrumentalness   0.1267825  0.15953335  0.192522485  0.2254744  0.2563531
## liveness          -0.1364579 -0.17499341 -0.216351599 -0.2537124 -0.2890055
## valence            .          .           .            .          .        
## tempo              .          .           .            .          .        
## track.duration_ms  0.8116095  0.83513399  0.861922368  0.8943376  0.9313644
## C                 -0.0408832 -0.07326866 -0.101615138 -0.1222729 -0.1343148
## `C#|Db`            .          .           .            .          .        
## D                  .          .           .            .          .        
## `D#|Eb`            0.0270074  0.01887888  0.006878402  .          .        
## E                  .          .           .            .          .        
## F                  .          .           .            .          .        
## `F#|Gb`            .          .           .            .          .        
## G                  .          .           .            .          .        
## `G#|Ab`            .          .           .            .          .        
## A                  .          .           .            .          .        
## `A#|Bb`            0.2186085  0.27481882  0.334544817  0.3893868  0.4395142
## B                  .          .           .            .          .        
## c01                .          .           .            .          .        
## c02                .          .           .            .          .        
## c03                .          .           .            .          .        
## c04                .          .           .            .          .        
## c05                .          .           .            .          .        
## c06                .          .           .            .          .        
## c07                .          .           .            .          .        
## c08               -0.2178366 -0.24752838 -0.275373051 -0.2959696 -0.3093278
## c09                .          .           .            .          .        
## c10               -0.2417300 -0.27594702 -0.310806873 -0.3431764 -0.3769639
## c11                .          .           .            .          .        
## c12                .          .           .            .          .        
##                                                                              
##                    0.1711160  0.18498074  0.20357417  0.22395722  0.246835972
## danceability       0.2577804  0.27797646  0.29688166  0.31561861  0.332921096
## energy             .          .           .           .           .          
## loudness           .          .           .           .           .          
## speechiness        .          .           .           .           .          
## acousticness       .          .           .           .           .          
## instrumentalness   0.2882138  0.32174966  0.36904146  0.41024641  0.454286170
## liveness          -0.3217372 -0.35000739 -0.37255990 -0.39150942 -0.407669980
## valence            .          .           .           .           .          
## tempo              .          .           .           .           .          
## track.duration_ms  0.9648663  0.98977975  1.01216844  1.00840974  0.997743851
## C                 -0.1503722 -0.17536569 -0.20404636 -0.23656879 -0.268309220
## `C#|Db`            .          .           .           .           .          
## D                  .          .           .           .           .          
## `D#|Eb`            .          .           .           .           .          
## E                  .          .           .           .           .          
## F                  .          .           .           .           .          
## `F#|Gb`            .          .           .           .           0.005276888
## G                  .          .           .           .           .          
## `G#|Ab`            .          .           .           .           .          
## A                  .          .           .           .           .          
## `A#|Bb`            0.4944725  0.54987184  0.59774663  0.64971819  0.704103024
## B                  .          .           .           .           .          
## c01                .          .           .           .           .          
## c02                .          .           .           .           .          
## c03                .          .           .           .           .          
## c04                .          .           .           .           .          
## c05                .          .           .           .           .          
## c06                .          .           .           .           .          
## c07                .          .           .           0.02488408  0.068000685
## c08               -0.3329535 -0.36680279 -0.40805978 -0.46039963 -0.519814900
## c09                .         -0.01615024 -0.03853748 -0.06223522 -0.088870013
## c10               -0.4123439 -0.44514908 -0.46298965 -0.46656118 -0.462716605
## c11                .          .           .           .           .          
## c12                .          .           .           .           .          
##                                                                               
##                    0.27244560  0.301632346  0.33321507  0.36607807  0.40078212
## danceability       0.35210883  0.376662996  0.39989542  0.42016064  0.44168508
## energy             .           .            .           .           .         
## loudness           .           .            .           .           .         
## speechiness        .           .            .           .           .         
## acousticness       .           .            .           .           .         
## instrumentalness   0.49911311  0.548368460  0.59493669  0.64045887  0.68714760
## liveness          -0.42370648 -0.438848943 -0.45589333 -0.47144577 -0.49007032
## valence            .           .            .           .           .         
## tempo              .           .            .           .           .         
## track.duration_ms  0.98844309  0.983882444  0.98967037  0.99983585  1.01150833
## C                 -0.29920501 -0.333405960 -0.35942263 -0.38016088 -0.40109149
## `C#|Db`            .           .            .           .           .         
## D                  .           .            .           .           .         
## `D#|Eb`            .           .            .           .           .         
## E                  .           .            .           .           .         
## F                  .           .            .           .           .         
## `F#|Gb`            0.01818714  0.038337284  0.05231064  0.06010492  0.06182654
## G                  .           .            .           .           .         
## `G#|Ab`            .           .            .           .           .         
## A                  .           .            .           .           .         
## `A#|Bb`            0.76268734  0.838770775  0.91731107  0.98980200  1.05888745
## B                  .          -0.002869716 -0.02096956 -0.03866266 -0.05302318
## c01                .           .            .           .           .         
## c02                .           .            .           .           .         
## c03                .           .            .           .           .         
## c04                .           .            .           .           .         
## c05                .           .            .           .           .         
## c06               -0.01092967 -0.035433070 -0.04567525 -0.04052599 -0.03660530
## c07                0.10667903  0.136667820  0.17756393  0.22591100  0.27248975
## c08               -0.57716127 -0.633663102 -0.68676326 -0.73399581 -0.78130229
## c09               -0.11360012 -0.130384337 -0.14420916 -0.16219044 -0.17983666
## c10               -0.45833731 -0.459824654 -0.47110828 -0.48515499 -0.50381190
## c11                .           .            .           .           .         
## c12                .           .            .           .           .         
##                                                                              
##                    0.43858056  0.47275656  0.50849949  0.54835936  0.59034196
## danceability       0.46465467  0.50199572  0.54009718  0.57588683  0.61314892
## energy            -0.02423621 -0.09883484 -0.17595391 -0.23963269 -0.28561737
## loudness           .           .           .           .           .         
## speechiness        .           .           .           .           .         
## acousticness       .           .           .           .           .         
## instrumentalness   0.73622464  0.81607276  0.90167634  0.97753139  1.04666557
## liveness          -0.50832188 -0.54065288 -0.57594185 -0.61808722 -0.66798548
## valence            .           .           .           .           .         
## tempo              .           .           .           .           .         
## track.duration_ms  1.02504133  1.04665451  1.06768159  1.08489479  1.10158653
## C                 -0.42450126 -0.42059232 -0.39208852 -0.36347648 -0.32467213
## `C#|Db`            .           .           .           .           .         
## D                  .           .           .           .           .         
## `D#|Eb`            .           .           .           .           .         
## E                  .           .           .           .           .         
## F                  .           .           .           .           .         
## `F#|Gb`            0.05865041  0.04869133  0.03805746  0.01285543  .         
## G                  .           .           .           .           .         
## `G#|Ab`            .           .           .           .           .         
## A                  .           .           .           .           .         
## `A#|Bb`            1.13038967  1.24755780  1.36204691  1.46093221  1.56217360
## B                 -0.06693008 -0.10404810 -0.15094324 -0.19158776 -0.23244222
## c01                .           .           .           .           .         
## c02                .           .           .           .           .         
## c03                .           .           .           .           .         
## c04                .           .           .           .           .         
## c05                .           .           .           .           .         
## c06               -0.04199997 -0.05588386 -0.06663696 -0.07967602 -0.09190573
## c07                0.31513883  0.36109820  0.41348793  0.46867344  0.52766179
## c08               -0.82692534 -0.88267173 -0.95186783 -1.02652507 -1.10434517
## c09               -0.19261992 -0.20275917 -0.21190943 -0.21837514 -0.22028932
## c10               -0.52479027 -0.54273139 -0.55079101 -0.56465906 -0.58143339
## c11                .           .           .           .           .         
## c12                .           .           .           .           .         
##                                                                          
##                    0.6307242  0.6721270  0.7139972  0.7559622  0.79509364
## danceability       0.6478313  0.6848056  0.7242005  0.7641083  0.80384986
## energy            -0.3323329 -0.3878729 -0.4508499 -0.5161660 -0.58806949
## loudness           .          .          .          .          .         
## speechiness        .          .          .          .          .         
## acousticness       .          .          .          .          .         
## instrumentalness   1.1181672  1.1907491  1.2637631  1.3375188  1.40468892
## liveness          -0.7206179 -0.7751396 -0.8308980 -0.8883468 -0.95174386
## valence            .          .          .          .          .         
## tempo              .          .          .          .          .         
## track.duration_ms  1.1206011  1.1398717  1.1584781  1.1766180  1.19710568
## C                 -0.2771968 -0.2340144 -0.1961407 -0.1586999 -0.12455213
## `C#|Db`            .          .          .          .          .         
## D                  .          .          .          .          .         
## `D#|Eb`            .          .          .          .          .         
## E                  .          .          .          .          .         
## F                  .          .          .          .          .         
## `F#|Gb`            .          .          .          .          .         
## G                  .          .          .          .          .         
## `G#|Ab`            .          .          .          .          .         
## A                  .          .          .          .          .         
## `A#|Bb`            1.6648483  1.7694649  1.8760460  1.9854304  2.10078203
## B                 -0.2753217 -0.3160409 -0.3543182 -0.3920498 -0.43001714
## c01                .          .          .          .          .         
## c02                .          .          .          .          .         
## c03                .          .          .          .          .         
## c04                .          .          .          .          .         
## c05                .          .          .          .         -0.01822187
## c06               -0.1020016 -0.1156507 -0.1334601 -0.1543869 -0.18430038
## c07                0.5898531  0.6508516  0.7107920  0.7702238  0.82765783
## c08               -1.1857982 -1.2693908 -1.3566522 -1.4476099 -1.54239514
## c09               -0.2234818 -0.2218440 -0.2153469 -0.2055488 -0.18712163
## c10               -0.5962764 -0.6136841 -0.6358375 -0.6618298 -0.69866918
## c11                .          .          .          .          .         
## c12                .          .          .          .          .         
##                                                                               
##                    0.83029088  0.86473826  0.901455155  0.93945719  0.97735265
## danceability       0.84259186  0.87399595  0.901347963  0.93341366  0.96708980
## energy            -0.66752884 -0.75744083 -0.847560296 -0.93041141 -1.02125190
## loudness           .           .           .            .           .         
## speechiness        .           .           .            .           .         
## acousticness       .           .           .            .           .         
## instrumentalness   1.46313772  1.52196789  1.581306240  1.63321332  1.68377482
## liveness          -1.02072098 -1.09693339 -1.168878701 -1.21636180 -1.26669308
## valence            .           .           .            .           .         
## tempo              .           .           .            .           .         
## track.duration_ms  1.22206606  1.24715398  1.272132106  1.29105586  1.30777308
## C                 -0.09447209 -0.05400678 -0.005267216  .           .         
## `C#|Db`            .           .           .            .           .         
## D                  .           .           .            .           .         
## `D#|Eb`            .           .           .            .           .         
## E                  .           .           .            .           .         
## F                  .           .           .            .           .         
## `F#|Gb`            .           .           .            .           .         
## G                  .           .           .            .           .         
## `G#|Ab`            .           .           .            .           .         
## A                  .           .           .            .           .         
## `A#|Bb`            2.22254783  2.33884920  2.444185249  2.52377655  2.60793405
## B                 -0.46880065 -0.51350722 -0.562258258 -0.58102035 -0.59886607
## c01                .           .           .            .           .         
## c02                .           .           .            .           .         
## c03                .           .           .            .           .         
## c04                .           .           .            .           .         
## c05               -0.06060409 -0.09938544 -0.133803104 -0.17822153 -0.22717186
## c06               -0.22391343 -0.26835605 -0.306863191 -0.33212105 -0.36385070
## c07                0.88222986  0.93773850  0.991405814  1.02539935  1.05704223
## c08               -1.63792402 -1.73903152 -1.832156845 -1.89179706 -1.96143976
## c09               -0.15896360 -0.12725292 -0.098214710 -0.07040334 -0.03874278
## c10               -0.74750454 -0.79143498 -0.821969988 -0.84953887 -0.88476305
## c11                .           .           .            .           .         
## c12                .           .           .            .           .         
##                                                                              
##                    1.014921389  1.05034665  1.08507942  1.1207574  1.16113103
## danceability       0.999714183  1.03232540  1.06554833  1.1022504  1.13581943
## energy            -1.113515477 -1.20720245 -1.30455792 -1.3949066 -1.47924511
## loudness           .            0.02801056  0.07626139  0.1331675  0.18946268
## speechiness        .            .           .           .          .         
## acousticness       .            .           .           .          0.01931519
## instrumentalness   1.733471221  1.79739490  1.87177599  1.9403395  2.00330075
## liveness          -1.318671861 -1.35934115 -1.39233230 -1.4262290 -1.46565625
## valence            .            .           .           .          .         
## tempo              .            .           .           .          .         
## track.duration_ms  1.324771960  1.34212505  1.35881478  1.3780369  1.39196944
## C                  .            .           .           .          .         
## `C#|Db`            .            .           .           .          .         
## D                  .            .           .           .          .         
## `D#|Eb`            .            .           .           .          .         
## E                  .            .           .           .          .         
## F                  .            .           .           .          .         
## `F#|Gb`            .            .           .           .          .         
## G                  .            .           .           .          .         
## `G#|Ab`            .            .           .           .          .         
## A                  .            .           .           .          .         
## `A#|Bb`            2.695532255  2.76936538  2.83937314  2.9007189  2.96701014
## B                 -0.617744823 -0.63334988 -0.64740374 -0.6584907 -0.66408741
## c01                .            .           .           .          .         
## c02                .            .           .           .          .         
## c03                .            .           .           .          .         
## c04                .            .           .           .         -0.00345689
## c05               -0.277511203 -0.30806927 -0.33091336 -0.3551041 -0.38261677
## c06               -0.397189941 -0.41492169 -0.42512842 -0.4333068 -0.45033660
## c07                1.087684698  1.12268882  1.16003799  1.1975577  1.24073820
## c08               -2.032592004 -2.10817617 -2.19646929 -2.2815632 -2.36735433
## c09               -0.005240494  .           .           .          .         
## c10               -0.922730769 -0.94000559 -0.95028624 -0.9548219 -0.96303910
## c11                .            .           .           .          .         
## c12                .            .           .           .          .         
##                                                                               
##                    1.20364969  1.24719435  1.29068399  1.33389262  1.377550143
## danceability       1.16628731  1.19364558  1.22032692  1.24700334  1.272655102
## energy            -1.55662403 -1.63495230 -1.71163960 -1.78677569 -1.861742431
## loudness           0.24404815  0.29790857  0.35078758  0.40322566  0.455268472
## speechiness        .           .           .           .           .          
## acousticness       0.05023385  0.08354958  0.11716615  0.14935993  0.179965710
## instrumentalness   2.06233436  2.11963221  2.17490794  2.22953774  2.283505033
## liveness          -1.50763153 -1.55641273 -1.60800209 -1.65897555 -1.711919619
## valence            .           .           .           .           .          
## tempo              .           .           .           .           .          
## track.duration_ms  1.40566022  1.41838460  1.43175112  1.44690889  1.461957080
## C                  .           .           .           .           .          
## `C#|Db`            .           .           .           .           .          
## D                  .           .           .           .           .          
## `D#|Eb`            .           .           .           .           .          
## E                  .           .           .           .           .          
## F                  .           .           .           .           .          
## `F#|Gb`            .           .           .           .           .          
## G                  .           .           .           .           .          
## `G#|Ab`            .           .           .           .           .          
## A                  .           .           .           .           .          
## `A#|Bb`            3.03322448  3.10477623  3.17801421  3.24997710  3.324485165
## B                 -0.66766499 -0.67161517 -0.67621391 -0.67983192 -0.683241533
## c01                .           .           .           .           .          
## c02                .           .           .           .          -0.004060059
## c03                .           .           .           .           .          
## c04               -0.01245544 -0.02562845 -0.04136698 -0.05831256 -0.076500923
## c05               -0.41344427 -0.44477647 -0.47735540 -0.51008410 -0.542428795
## c06               -0.47183007 -0.49671066 -0.52319097 -0.54942353 -0.574715129
## c07                1.28284381  1.32421937  1.36380937  1.40086466  1.436290944
## c08               -2.44908766 -2.53198824 -2.61299615 -2.69129131 -2.767690110
## c09                .           .           .           .           .          
## c10               -0.97135590 -0.98034044 -0.98988259 -0.99948826 -1.008301500
## c11                .           .           .           .           .          
## c12                .           .           .           .           .          
##                                                                           
##                    1.42319960  1.46823031  1.5125000  1.5551413  1.5991317
## danceability       1.29921356  1.32563168  1.3521605  1.3792917  1.4050605
## energy            -1.92954441 -1.99157186 -2.0516883 -2.1043182 -2.1572803
## loudness           0.50118969  0.54636557  0.5915779  0.6353899  0.6769228
## speechiness        .           .           .          .          .        
## acousticness       0.20719957  0.22906786  0.2473775  0.2618136  0.2734533
## instrumentalness   2.33154134  2.37600332  2.4202759  2.4646745  2.5082708
## liveness          -1.77193339 -1.82670735 -1.8810819 -1.9343614 -1.9976288
## valence            .           .           .          .          .        
## tempo              .           .           .          .          .        
## track.duration_ms  1.47700615  1.49392046  1.5124406  1.5324870  1.5515360
## C                  .           .           .          .          .        
## `C#|Db`            .           .           .          .          .        
## D                  .           .           .          .          .        
## `D#|Eb`            .           .           .          .          .        
## E                  .           .           .          .          .        
## F                  .           .           .          .          .        
## `F#|Gb`            .           .           .          .          .        
## G                  .           .           .          .          .        
## `G#|Ab`            .           .           .          .          .        
## A                  .           .           .          .          .        
## `A#|Bb`            3.40681745  3.48435874  3.5626041  3.6418439  3.7318905
## B                 -0.68859870 -0.69313998 -0.6969920 -0.7000141 -0.7040400
## c01                .           .           .          .          .        
## c02               -0.03091282 -0.06389837 -0.1000514 -0.1404529 -0.1882524
## c03                .           .           .          .          .        
## c04               -0.09707115 -0.11618637 -0.1344422 -0.1516505 -0.1697843
## c05               -0.57789320 -0.61533056 -0.6531060 -0.6905235 -0.7274473
## c06               -0.59613115 -0.60974118 -0.6196606 -0.6264947 -0.6331980
## c07                1.47085767  1.49883416  1.5240763  1.5487217  1.5745727
## c08               -2.83668759 -2.89932392 -2.9623229 -3.0271669 -3.0967481
## c09                .           .           .          .          .        
## c10               -1.01235449 -1.01353979 -1.0139735 -1.0147181 -1.0145265
## c11                .           .           .          .          .        
## c12                .           .           .          .          .        
##                                                                         
##                    1.6415137  1.6837239  1.7254683  1.7673444  1.8080747
## danceability       1.4273600  1.4494914  1.4717751  1.4937100  1.5147739
## energy            -2.2059056 -2.2505229 -2.2931158 -2.3327954 -2.3696558
## loudness           0.7171695  0.7574373  0.7973538  0.8363678  0.8753106
## speechiness        .          .          .          .          .        
## acousticness       0.2842310  0.2933964  0.3014731  0.3090957  0.3157588
## instrumentalness   2.5491449  2.5910120  2.6327105  2.6742087  2.7149805
## liveness          -2.0528122 -2.1109012 -2.1710153 -2.2317922 -2.2904615
## valence            .          .          .          .          .        
## tempo              .          .          .          .          .        
## track.duration_ms  1.5699061  1.5893535  1.6097693  1.6301425  1.6513299
## C                  .          .          .          .          .        
## `C#|Db`            .          .          .          .          .        
## D                  .          .          .          .          .        
## `D#|Eb`            .          .          .          .          .        
## E                  .          .          .          .          .        
## F                  .          .          .          .          .        
## `F#|Gb`            .          .          .          .          .        
## G                  .          .          .          .          .        
## `G#|Ab`            .          .          .          .          .        
## A                  .          .          .          .          .        
## `A#|Bb`            3.8098889  3.8927882  3.9779104  4.0634916  4.1464854
## B                 -0.7051128 -0.7060973 -0.7073590 -0.7075642 -0.7077809
## c01                .          .          .          .          .        
## c02               -0.2323624 -0.2801483 -0.3284975 -0.3785115 -0.4260658
## c03                .          .          .          .          .        
## c04               -0.1879256 -0.2073076 -0.2265941 -0.2455124 -0.2646135
## c05               -0.7638774 -0.8005511 -0.8376823 -0.8739635 -0.9104828
## c06               -0.6386699 -0.6429978 -0.6473613 -0.6516252 -0.6557696
## c07                1.5957641  1.6173958  1.6396090  1.6619926  1.6839486
## c08               -3.1587817 -3.2247857 -3.2932053 -3.3617155 -3.4298150
## c09                .          .          .          .          .        
## c10               -1.0147111 -1.0130258 -1.0115390 -1.0098821 -1.0090130
## c11                .          .          .          .          .        
## c12                .          .          .          .          .        
##                                                                         
##                    1.8488540  1.8889856  1.9297024  1.9689101  2.0088092
## danceability       1.5353483  1.5559021  1.5761116  1.5958854  1.6160519
## energy            -2.4058533 -2.4400162 -2.4770843 -2.5120781 -2.5449902
## loudness           0.9150158  0.9535692  0.9950144  1.0322289  1.0724620
## speechiness        .          .          .          .          .        
## acousticness       0.3220495  0.3299713  0.3358221  0.3445262  0.3515809
## instrumentalness   2.7567186  2.7975587  2.8409902  2.8802608  2.9234199
## liveness          -2.3506349 -2.4050564 -2.4692863 -2.5218058 -2.5778047
## valence            .          .          .          .          .        
## tempo              .          .          .          .          .        
## track.duration_ms  1.6727743  1.6954817  1.7180941  1.7413775  1.7646756
## C                  .          .          .          .          .        
## `C#|Db`            .          .          .          .          .        
## D                  .          .          .          .          .        
## `D#|Eb`            .          .          .          .          .        
## E                  .          .          .          .          .        
## F                  .          .          .          .          .        
## `F#|Gb`            .          .          .          .          .        
## G                  .          .          .          .          .        
## `G#|Ab`            .          .          .          .          .        
## A                  .          .          .          .          .        
## `A#|Bb`            4.2314441  4.3059270  4.3952287  4.4648163  4.5431457
## B                 -0.7073030 -0.7036216 -0.7028787 -0.6990308 -0.6951715
## c01                .          .          .          .          .        
## c02               -0.4735554 -0.5160349 -0.5631247 -0.6009842 -0.6422917
## c03                .          .          .          .          .        
## c04               -0.2841800 -0.3016833 -0.3224251 -0.3390491 -0.3581872
## c05               -0.9465361 -0.9830221 -1.0195367 -1.0564870 -1.0930775
## c06               -0.6600671 -0.6659188 -0.6709544 -0.6774797 -0.6826180
## c07                1.7058575  1.7261922  1.7491788  1.7681510  1.7894395
## c08               -3.5003631 -3.5683788 -3.6440773 -3.7088064 -3.7809663
## c09                .          .          .          .          .        
## c10               -1.0083665 -1.0077839 -1.0075294 -1.0081108 -1.0077446
## c11                .          .          .          .          .        
## c12                .          .          .          .          .        
##                                                                               
##                    2.042067927  2.086637916  2.1163481  2.15117642  2.18483855
## danceability       1.632024818  1.651489364  1.6647457  1.68334899  1.69971878
## energy            -2.568364281 -2.609823091 -2.6313835 -2.66137430 -2.68779730
## loudness           1.105602366  1.158196023  1.1825484  1.22528477  1.26792458
## speechiness        .            .            .          .           .         
## acousticness       0.355128594  0.361935517  0.3688554  0.38292426  0.39953104
## instrumentalness   2.959292553  3.014545744  3.0444715  3.09138641  3.13944305
## liveness          -2.618572360 -2.692150704 -2.7268898 -2.76606949 -2.80583216
## valence            .            .            .          .           .         
## tempo              .            .            .          .           .         
## track.duration_ms  1.786501818  1.810098659  1.8315567  1.85434621  1.87684910
## C                  .            .            .          .           .         
## `C#|Db`            .            .            .          .           .         
## D                  .            .            .          .           .         
## `D#|Eb`            .            .            .          .           .         
## E                  .            .            .          .           .         
## F                  .            .            .          .           .         
## `F#|Gb`            .            .            .          .           .         
## G                  0.004909753  0.003535758  0.0123444  0.02314095  0.03362852
## `G#|Ab`            .            .            .          .           .         
## A                  .            .            .          .           .         
## `A#|Bb`            4.604495749  4.709884424  4.7584485  4.82163759  4.88801728
## B                 -0.695604848 -0.689446742 -0.6909812 -0.68906926 -0.68706278
## c01                .            .            .          .           .         
## c02               -0.671782587 -0.722987339 -0.7453973 -0.77409197 -0.80467029
## c03                .            .            .          .           .         
## c04               -0.374364829 -0.400524232 -0.4084632 -0.41762512 -0.42946325
## c05               -1.126537232 -1.162159708 -1.1927349 -1.23066764 -1.26654827
## c06               -0.685266096 -0.689007076 -0.6963148 -0.70488741 -0.71493997
## c07                1.809244442  1.835736665  1.8552072  1.88456467  1.91513314
## c08               -3.837073970 -3.932113029 -3.9747317 -4.04333826 -4.11475989
## c09                .            .            .          .           .         
## c10               -1.009798174 -1.008138535 -1.0133482 -1.01736537 -1.02037478
## c11                .            .            .          .           .         
## c12                .            .            .          .           .         
##                                                                              
##                    2.21987861  2.25527678  2.28874277  2.32647969  2.36286865
## danceability       1.71642096  1.73355536  1.74964727  1.76709701  1.78511448
## energy            -2.71377370 -2.73965186 -2.76383051 -2.79005844 -2.81703395
## loudness           1.31103615  1.35415613  1.39006610  1.43316192  1.47549502
## speechiness        .           .           .           .           .         
## acousticness       0.41720160  0.43566850  0.45146206  0.47335732  0.49534972
## instrumentalness   3.18849306  3.23823640  3.28052967  3.33194237  3.38224100
## liveness          -2.84617105 -2.88732023 -2.92419640 -2.96884444 -3.01436762
## valence            .           .           .           .           .         
## tempo              .           .           .           .           .         
## track.duration_ms  1.89936450  1.92174910  1.94369904  1.96789599  1.99189328
## C                  .           .           .           .           .         
## `C#|Db`            .           .           .           .           .         
## D                  .           .           .           .           .         
## `D#|Eb`            .           .           .           .           .         
## E                  .           .           .           .           .         
## F                  .           .           .           .           .         
## `F#|Gb`            .           .           .           .           .         
## G                  0.04506972  0.05709675  0.06929617  0.08030173  0.09219395
## `G#|Ab`            .           .           .           .           .         
## A                  .           .           .           .           .         
## `A#|Bb`            4.95561994  5.02400992  5.08247469  5.15215332  5.22159962
## B                 -0.68539533 -0.68375750 -0.68422208 -0.67900807 -0.67596708
## c01                .           .           .           .           .         
## c02               -0.83481661 -0.86465855 -0.88859553 -0.92201554 -0.95275650
## c03                .           .           .           .           .         
## c04               -0.44045569 -0.45121398 -0.45939009 -0.47246131 -0.48432110
## c05               -1.30285917 -1.33937619 -1.37444139 -1.41309385 -1.45172146
## c06               -0.72477422 -0.73498882 -0.74448127 -0.75855501 -0.77316505
## c07                1.94817417  1.98205772  2.01206278  2.04541134  2.07927097
## c08               -4.19034378 -4.26750389 -4.33192938 -4.40855679 -4.48680041
## c09                .           .           .           .           .         
## c10               -1.02251161 -1.02444843 -1.02818416 -1.03034987 -1.03192402
## c11                .           .           .           .           .         
## c12                .           .           .           .           .         
##                                                                         
##                    2.3948177  2.4295574  2.4705205  2.5031006  2.5396643
## danceability       1.8017370  1.8192879  1.8372548  1.8544650  1.8735219
## energy            -2.8428636 -2.8698830 -2.8970140 -2.9235474 -2.9518752
## loudness           1.5136747  1.5540656  1.5964129  1.6340943  1.6738454
## speechiness        .          .          .          .          .        
## acousticness       0.5143354  0.5340264  0.5580138  0.5785911  0.5984712
## instrumentalness   3.4256576  3.4723760  3.5267813  3.5709426  3.6190402
## liveness          -3.0567502 -3.1000300 -3.1472503 -3.1915060 -3.2349350
## valence            .          .          .          .          .        
## tempo              .          .          .          .          .        
## track.duration_ms  2.0148737  2.0375728  2.0604176  2.0830783  2.1051293
## C                  .          .          .          .          .        
## `C#|Db`            .          .          .          .          .        
## D                  .          .          .          .          .        
## `D#|Eb`            .          .          .          .          .        
## E                  .          .          .          .          .        
## F                  .          .          .          .          .        
## `F#|Gb`            .          .          .          .          .        
## G                  0.1067296  0.1214941  0.1320799  0.1462186  0.1603424
## `G#|Ab`            .          .          .          .          .        
## A                  .          .          .          .          .        
## `A#|Bb`            5.2862856  5.3534502  5.4256822  5.4911224  5.5571436
## B                 -0.6780872 -0.6784110 -0.6712103 -0.6725748 -0.6717468
## c01                .          .          .          .          .        
## c02               -0.9781421 -1.0051164 -1.0398358 -1.0664354 -1.0927602
## c03                .          .          .          .          .        
## c04               -0.4941067 -0.5050660 -0.5197126 -0.5303943 -0.5410115
## c05               -1.4885883 -1.5262073 -1.5632838 -1.6000013 -1.6370362
## c06               -0.7856470 -0.7989839 -0.8157767 -0.8306019 -0.8450018
## c07                2.1117146  2.1440600  2.1765127  2.2084753  2.2399924
## c08               -4.5553656 -4.6258011 -4.7041074 -4.7727089 -4.8440385
## c09                .          .          .          .          .        
## c10               -1.0355675 -1.0396994 -1.0407591 -1.0436588 -1.0467928
## c11                .          .          .          .          .        
## c12                .          .          .          .          .        
##                                                                         
##                    2.5751589  2.6115689  2.6482323  2.6860052  2.7203556
## danceability       1.8918244  1.9101364  1.9285373  1.9465512  1.9655763
## energy            -2.9800376 -3.0084216 -3.0369598 -3.0636352 -3.0944178
## loudness           1.7143486  1.7549211  1.7954588  1.8299684  1.8725814
## speechiness        .          .          .          .          .        
## acousticness       0.6199416  0.6416967  0.6637813  0.6853909  0.7085864
## instrumentalness   3.6673533  3.7164122  3.7659080  3.8112553  3.8634402
## liveness          -3.2806445 -3.3271235 -3.3741504 -3.4195610 -3.4714880
## valence            .          .          .          .          .        
## tempo              .          .          .          .          .        
## track.duration_ms  2.1279930  2.1505044  2.1727165  2.1966648  2.2209792
## C                  .          .          .          .          .        
## `C#|Db`            .          .          .          .          .        
## D                  .          .          .          .          .        
## `D#|Eb`            .          .          .          .          .        
## E                  .          .          .          .          .        
## F                  .          .          .          .          .        
## `F#|Gb`            .          .          .          .          .        
## G                  0.1750585  0.1901301  0.2054535  0.2160381  0.2345169
## `G#|Ab`            .          .          .          .          .        
## A                  .          .          .          .          .        
## `A#|Bb`            5.6260186  5.6961215  5.7669841  5.8288646  5.9050508
## B                 -0.6710399 -0.6700314 -0.6688745 -0.6663763 -0.6687971
## c01                .          .          .          .          .        
## c02               -1.1211068 -1.1498597 -1.1786693 -1.2068488 -1.2349109
## c03                .          .          .          .          .        
## c04               -0.5528962 -0.5650736 -0.5773341 -0.5891594 -0.6016122
## c05               -1.6739521 -1.7108697 -1.7477486 -1.7848936 -1.8219488
## c06               -0.8606804 -0.8768462 -0.8935021 -0.9116537 -0.9300599
## c07                2.2726179  2.3053216  2.3381356  2.3671025  2.4035046
## c08               -4.9155146 -4.9878145 -5.0606929 -5.1263922 -5.2034236
## c09                .          .          .          .          .        
## c10               -1.0504609 -1.0541230 -1.0577639 -1.0610017 -1.0650159
## c11                .          .          .          .          .        
## c12                .          .          .          .          .        
##                             
##                    2.7588359
## danceability       1.9813189
## energy            -3.1201407
## loudness           1.9058522
## speechiness        .        
## acousticness       0.7307939
## instrumentalness   3.9107807
## liveness          -3.5201528
## valence            .        
## tempo              .        
## track.duration_ms  2.2456568
## C                  .        
## `C#|Db`            .        
## D                  .        
## `D#|Eb`            .        
## E                  .        
## F                  .        
## `F#|Gb`            .        
## G                  0.2469565
## `G#|Ab`            .        
## A                  .        
## `A#|Bb`            5.9710932
## B                 -0.6685176
## c01                .        
## c02               -1.2640288
## c03                .        
## c04               -0.6144874
## c05               -1.8558462
## c06               -0.9483878
## c07                2.4348170
## c08               -5.2687765
## c09                .        
## c10               -1.0678706
## c11                .        
## c12                .</code></pre>
</div>
<div id="decision-trees" class="section level4">
<h4 class="hasAnchor">
<a href="#decision-trees" class="anchor"></a>Decision Trees</h4>
<p>Decision trees are nicely intuitive, and perform somewhat better here.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>indie_tree &lt;-<span class="st"> </span><span class="kw">decision_tree</span>(<span class="dt">mode =</span> <span class="st">'classification'</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">set_engine</span>(<span class="st">'C5.0'</span>)</span>
<span id="cb43-2"><a href="#cb43-2"></a>predict_tree &lt;-<span class="st"> </span><span class="cf">function</span>(split)</span>
<span id="cb43-3"><a href="#cb43-3"></a>    <span class="kw">fit</span>(indie_tree, playlist <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> <span class="kw">analysis</span>(split)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb43-4"><a href="#cb43-4"></a><span class="st">    </span><span class="kw"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span>(<span class="kw">assessment</span>(split), <span class="dt">type =</span> <span class="st">'class'</span>) <span class="op">%&gt;%</span></span>
<span id="cb43-5"><a href="#cb43-5"></a><span class="st">    </span><span class="kw">bind_cols</span>(<span class="kw">assessment</span>(split))</span></code></pre></div>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>indie_cv <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb44-2"><a href="#cb44-2"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">pred =</span> <span class="kw">map</span>(splits, predict_tree)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">unnest</span>(pred) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb44-3"><a href="#cb44-3"></a><span class="st">    </span><span class="kw">metric_set</span>(accuracy, kap, j_index)(<span class="dt">truth =</span> playlist, <span class="dt">estimate =</span> .pred_class)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   .metric  .estimator .estimate
##   &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
## 1 accuracy multiclass     0.433
## 2 kap      multiclass     0.15 
## 3 j_index  macro          0.150</code></pre>
<p>We can look at the whole tree with the <code>summary</code> command. Be careful not to read too much into the actual numerical values, however: remember that the features were standardised before we started classification. Without cross-validation, the algorithm looks much better from the summary than it actually was in practice, but we can still see that timbre features are important and chroma features probably aren’t.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>indie_class <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb46-2"><a href="#cb46-2"></a><span class="st">    </span><span class="kw">fit</span>(indie_tree, playlist <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> .) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb46-3"><a href="#cb46-3"></a><span class="st">    </span><span class="kw">pluck</span>(<span class="st">'fit'</span>) <span class="op">%&gt;%</span></span>
<span id="cb46-4"><a href="#cb46-4"></a><span class="st">    </span>summary</span></code></pre></div>
<pre><code>## 
## Call:
## C5.0.default(x = x, y = y, trials = 1, control = C50::C5.0Control(minCases =
##  2, sample = 0))
## 
## 
## C5.0 [Release 2.07 GPL Edition]      Wed Mar  4 09:58:20 2020
## -------------------------------
## 
## Class specified by attribute `outcome'
## 
## Read 60 cases (35 attributes) from undefined.data
## 
## Decision tree:
## 
## acousticness &gt; -0.3440523:
## :...energy &gt; 0.1816539: Indie Workout (3/1)
## :   energy &lt;= 0.1816539:
## :   :...loudness &lt;= -2.102175: Indie Workout (2)
## :       loudness &gt; -2.102175:
## :       :...valence &lt;= 0.8200186: Indie Pop (15)
## :           valence &gt; 0.8200186: Indie Workout (3/1)
## acousticness &lt;= -0.3440523:
## :...track.duration_ms &lt;= -0.8854723: Indie Party (8)
##     track.duration_ms &gt; -0.8854723:
##     :...c09 &gt; 1.071532: Indie Pop (2)
##         c09 &lt;= 1.071532:
##         :...acousticness &gt; -0.4732166: Indie Party (3)
##             acousticness &lt;= -0.4732166:
##             :...c05 &lt;= -1.177707: Indie Party (4)
##                 c05 &gt; -1.177707:
##                 :...c07 &gt; 1.748565: Indie Party (2/1)
##                     c07 &lt;= 1.748565:
##                     :...tempo &lt;= 0.6877437: Indie Workout (14/1)
##                         tempo &gt; 0.6877437:
##                         :...valence &lt;= 0.3425032: Indie Pop (2/1)
##                             valence &gt; 0.3425032: Indie Party (2)
## 
## 
## Evaluation on training data (60 cases):
## 
##      Decision Tree   
##    ----------------  
##    Size      Errors  
## 
##      12    5( 8.3%)   &lt;&lt;
## 
## 
##     (a)   (b)   (c)    &lt;-classified as
##    ----  ----  ----
##      18           2    (a): class Indie Party
##       1    18     1    (b): class Indie Pop
##             1    19    (c): class Indie Workout
## 
## 
##  Attribute usage:
## 
##  100.00% acousticness
##   61.67% track.duration_ms
##   48.33% c09
##   40.00% c05
##   38.33% energy
##   36.67% valence
##   33.33% loudness
##   33.33% c07
##   30.00% tempo
## 
## 
## Time: 0.0 secs</code></pre>
</div>
<div id="random-forests" class="section level4">
<h4 class="hasAnchor">
<a href="#random-forests" class="anchor"></a>Random Forests</h4>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>indie_forest &lt;-<span class="st"> </span></span>
<span id="cb48-2"><a href="#cb48-2"></a><span class="st">  </span><span class="kw">rand_forest</span>(<span class="dt">mode =</span> <span class="st">'classification'</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">set_engine</span>(<span class="st">'randomForest'</span>)</span>
<span id="cb48-3"><a href="#cb48-3"></a>predict_forest &lt;-<span class="st"> </span><span class="cf">function</span>(split)</span>
<span id="cb48-4"><a href="#cb48-4"></a>    <span class="kw">fit</span>(indie_forest, playlist <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> <span class="kw">analysis</span>(split)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb48-5"><a href="#cb48-5"></a><span class="st">    </span><span class="kw"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span>(<span class="kw">assessment</span>(split), <span class="dt">type =</span> <span class="st">'class'</span>) <span class="op">%&gt;%</span></span>
<span id="cb48-6"><a href="#cb48-6"></a><span class="st">    </span><span class="kw">bind_cols</span>(<span class="kw">assessment</span>(split))</span></code></pre></div>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>indie_cv <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb49-2"><a href="#cb49-2"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">pred =</span> <span class="kw">map</span>(splits, predict_forest)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb49-3"><a href="#cb49-3"></a><span class="st">    </span><span class="kw">unnest</span>(pred) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb49-4"><a href="#cb49-4"></a><span class="st">    </span><span class="kw">metric_set</span>(accuracy, kap, j_index)(<span class="dt">truth =</span> playlist, <span class="dt">estimate =</span> .pred_class)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   .metric  .estimator .estimate
##   &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
## 1 accuracy multiclass     0.533
## 2 kap      multiclass     0.3  
## 3 j_index  macro          0.3</code></pre>
<p>Random forests give us the best-quality ranking of feature importance, and we can plot it with <code><a href="https://rdrr.io/pkg/randomForest/man/varImpPlot.html">randomForest::varImpPlot</a></code>. Again, it is clear that timbre, specifically Component 1 (power) and Component 11, is important. Note that because random forests are indeed random, the accuracy and feature rankings will vary (slightly) every time you re-run the code.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>indie_class <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb51-2"><a href="#cb51-2"></a><span class="st">    </span><span class="kw">fit</span>(indie_forest, playlist <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> .) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb51-3"><a href="#cb51-3"></a><span class="st">    </span><span class="kw">pluck</span>(<span class="st">'fit'</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb51-4"><a href="#cb51-4"></a><span class="st">    </span>randomForest<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/randomForest/man/varImpPlot.html">varImpPlot</a></span>()</span></code></pre></div>
<p><img src="compmus-w11_files/figure-html/unnamed-chunk-27-1.png" width="700"></p>
</div>
<div id="feature-selection" class="section level4">
<h4 class="hasAnchor">
<a href="#feature-selection" class="anchor"></a>Feature Selection</h4>
<p>Let’s try <span class="math inline">\(k\)</span>-NN again with just the top features. We see much better results.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>predict_knn_reduced &lt;-<span class="st"> </span><span class="cf">function</span>(split)</span>
<span id="cb52-2"><a href="#cb52-2"></a>    <span class="kw">fit</span>(</span>
<span id="cb52-3"><a href="#cb52-3"></a>        indie_knn, </span>
<span id="cb52-4"><a href="#cb52-4"></a>        playlist <span class="op">~</span><span class="st"> </span>c01 <span class="op">+</span><span class="st"> </span>c11 <span class="op">+</span><span class="st"> </span>liveness <span class="op">+</span><span class="st"> </span>energy <span class="op">+</span><span class="st"> </span>acousticness, </span>
<span id="cb52-5"><a href="#cb52-5"></a>        <span class="dt">data =</span> <span class="kw">analysis</span>(split)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb52-6"><a href="#cb52-6"></a><span class="st">    </span><span class="kw"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span>(<span class="kw">assessment</span>(split), <span class="dt">type =</span> <span class="st">'class'</span>) <span class="op">%&gt;%</span></span>
<span id="cb52-7"><a href="#cb52-7"></a><span class="st">    </span><span class="kw">bind_cols</span>(<span class="kw">assessment</span>(split))</span>
<span id="cb52-8"><a href="#cb52-8"></a>indie_cv <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb52-9"><a href="#cb52-9"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">pred =</span> <span class="kw">map</span>(splits, predict_knn_reduced)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">unnest</span>(pred) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb52-10"><a href="#cb52-10"></a><span class="st">    </span><span class="kw">metric_set</span>(accuracy, kap, j_index)(<span class="dt">truth =</span> playlist, <span class="dt">estimate =</span> .pred_class)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   .metric  .estimator .estimate
##   &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
## 1 accuracy multiclass    0.35  
## 2 kap      multiclass    0.0250
## 3 j_index  macro         0.025</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>indie_cv <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb54-2"><a href="#cb54-2"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">pred =</span> <span class="kw">map</span>(splits, predict_knn_reduced)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">unnest</span>(pred) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb54-3"><a href="#cb54-3"></a><span class="st">    </span><span class="kw">conf_mat</span>(<span class="dt">truth =</span> playlist, <span class="dt">estimate =</span> .pred_class) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb54-4"><a href="#cb54-4"></a><span class="st">    </span><span class="kw">autoplot</span>(<span class="dt">type =</span> <span class="st">'mosaic'</span>)</span></code></pre></div>
<p><img src="compmus-w11_files/figure-html/unnamed-chunk-29-1.png" width="700"></p>
<p>Armed with this feature set, perhaps we can make a better plot. It’s clear that the workout list has fewer live tracks, and that the party playlist is somewhat louder and higher on Component 11 than the pop list.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>indie <span class="op">%&gt;%</span></span>
<span id="cb55-2"><a href="#cb55-2"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> c01, <span class="dt">y =</span> c11, <span class="dt">colour =</span> playlist, <span class="dt">size =</span> liveness)) <span class="op">+</span></span>
<span id="cb55-3"><a href="#cb55-3"></a><span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.8</span>) <span class="op">+</span></span>
<span id="cb55-4"><a href="#cb55-4"></a><span class="st">    </span><span class="kw">scale_color_brewer</span>(<span class="dt">type =</span> <span class="st">'qual'</span>, <span class="dt">palette =</span> <span class="st">'Accent'</span>) <span class="op">+</span></span>
<span id="cb55-5"><a href="#cb55-5"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">'Timbre Component 1'</span>, <span class="dt">y =</span> <span class="st">'Timbre Component 11'</span>, <span class="dt">size =</span> <span class="st">'Liveness'</span>, <span class="dt">colour =</span> <span class="st">'Playlist'</span>)</span></code></pre></div>
<p><img src="compmus-w11_files/figure-html/unnamed-chunk-30-1.png" width="700"></p>
</div>
</div>
</div>
<div id="deltas-and-delta-deltas-advanced" class="section level2">
<h2 class="hasAnchor">
<a href="#deltas-and-delta-deltas-advanced" class="anchor"></a>Deltas and Delta-Deltas (Advanced)</h2>
<p>Although the novelty-based transformations of chroma and timbre features are not always useful for visualisations, they can be very useful for classification. Both ‘deltas’ and ‘delta-deltas’, especially for timbre features, are in regular use in music information retrieval. The code example below shows how to compute average <em>delta</em> chroma and timbre features instead of the ordinary average. Can you incorporate it into the classifiers above? Can you add delta-deltas, too?</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>indie_deltas &lt;-</span>
<span id="cb56-2"><a href="#cb56-2"></a><span class="st">    </span>pop <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">playlist =</span> <span class="st">"Indie Pop"</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb56-3"><a href="#cb56-3"></a><span class="st">    </span><span class="kw">bind_rows</span>(</span>
<span id="cb56-4"><a href="#cb56-4"></a>        party <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">playlist =</span> <span class="st">"Indie Party"</span>),</span>
<span id="cb56-5"><a href="#cb56-5"></a>        workout <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">playlist =</span> <span class="st">"Indie Workout"</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb56-6"><a href="#cb56-6"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">playlist =</span> <span class="kw"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(playlist)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb56-7"><a href="#cb56-7"></a><span class="st">    </span><span class="kw">mutate</span>(</span>
<span id="cb56-8"><a href="#cb56-8"></a>        <span class="dt">segments =</span> </span>
<span id="cb56-9"><a href="#cb56-9"></a>            <span class="kw">map2</span>(segments, key, compmus_c_transpose)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb56-10"><a href="#cb56-10"></a><span class="st">    </span><span class="kw">mutate</span>(</span>
<span id="cb56-11"><a href="#cb56-11"></a>        <span class="dt">segments =</span> </span>
<span id="cb56-12"><a href="#cb56-12"></a>            <span class="kw">map</span>(</span>
<span id="cb56-13"><a href="#cb56-13"></a>                segments, </span>
<span id="cb56-14"><a href="#cb56-14"></a>                mutate, </span>
<span id="cb56-15"><a href="#cb56-15"></a>                <span class="dt">pitches =</span> <span class="kw">map</span>(pitches, compmus_normalise, <span class="st">'manhattan'</span>))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb56-16"><a href="#cb56-16"></a><span class="st">    </span><span class="kw">mutate</span>(</span>
<span id="cb56-17"><a href="#cb56-17"></a>        <span class="dt">segments =</span></span>
<span id="cb56-18"><a href="#cb56-18"></a>            <span class="kw">map</span>(</span>
<span id="cb56-19"><a href="#cb56-19"></a>                segments,</span>
<span id="cb56-20"><a href="#cb56-20"></a>                mutate,</span>
<span id="cb56-21"><a href="#cb56-21"></a>                <span class="dt">pitches =</span> <span class="kw">map2</span>(pitches, <span class="kw"><a href="https://rdrr.io/r/stats/lag.html">lag</a></span>(pitches), <span class="st">`</span><span class="dt">-</span><span class="st">`</span>))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb56-22"><a href="#cb56-22"></a><span class="st">    </span><span class="kw">mutate</span>(</span>
<span id="cb56-23"><a href="#cb56-23"></a>        <span class="dt">segments =</span></span>
<span id="cb56-24"><a href="#cb56-24"></a>            <span class="kw">map</span>(</span>
<span id="cb56-25"><a href="#cb56-25"></a>                segments,</span>
<span id="cb56-26"><a href="#cb56-26"></a>                mutate,</span>
<span id="cb56-27"><a href="#cb56-27"></a>                <span class="dt">timbre =</span> <span class="kw">map2</span>(timbre, <span class="kw"><a href="https://rdrr.io/r/stats/lag.html">lag</a></span>(timbre), <span class="st">`</span><span class="dt">-</span><span class="st">`</span>))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb56-28"><a href="#cb56-28"></a><span class="st">    </span><span class="kw">mutate</span>(</span>
<span id="cb56-29"><a href="#cb56-29"></a>        <span class="dt">pitches =</span></span>
<span id="cb56-30"><a href="#cb56-30"></a>            <span class="kw">map</span>(segments,</span>
<span id="cb56-31"><a href="#cb56-31"></a>                compmus_summarise, pitches,</span>
<span id="cb56-32"><a href="#cb56-32"></a>                <span class="dt">method =</span> <span class="st">'mean'</span>, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb56-33"><a href="#cb56-33"></a>        <span class="dt">timbre =</span></span>
<span id="cb56-34"><a href="#cb56-34"></a>            <span class="kw">map</span>(</span>
<span id="cb56-35"><a href="#cb56-35"></a>                segments,</span>
<span id="cb56-36"><a href="#cb56-36"></a>                compmus_summarise, timbre,</span>
<span id="cb56-37"><a href="#cb56-37"></a>                <span class="dt">method =</span> <span class="st">'mean'</span>, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span></span>
<span id="cb56-38"><a href="#cb56-38"></a><span class="st">    </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(pitches, timbre), map, bind_rows) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb56-39"><a href="#cb56-39"></a><span class="st">    </span><span class="kw">unnest</span>(<span class="dt">cols =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(pitches, timbre))</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#set-up">Set-up</a></li>
      <li><a href="#novelty-functions">Novelty Functions</a></li>
      <li><a href="#tempograms">Tempograms</a></li>
      <li><a href="#classification">Classification</a></li>
      <li><a href="#deltas-and-delta-deltas-advanced">Deltas and Delta-Deltas (Advanced)</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by John Ashley Burgoyne.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
